<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- $Id: LocoIO.shtml,v 1.2 2008/03/09 20:27:27 jacobsen Exp $ -->
<!-- Translated by Blorec Hervé le 2011-02-06-->
<html lang="fr">
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
	<TITLE>JMRI LocoIO Programmer Tools</TITLE>

<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=utf-8">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->

</HEAD>

<!--#include virtual="/Header" -->
<!--#include virtual="Sidebar" -->

	<div id="mainContent">

	    <H1>JMRI Outils Programmateur LocoIO</H1>
        
JMRI contient les outils pour simplifier la programmation des accessoires
d'entrée/sortie de la carte contrôleur LocoIO.
<P>
Cet outil a été grandement mis à jour par John Plocher pour la libération de JMRI 1.8.
La première section de cette page est la description de ce nouveau programmateur de John
.
La
<a href="#older"> deuxième partie de la page </a>
sont les instructions de l'ancien programmateur, qui est toujours disponible
<P>

Cette version traite UNIQUEMENT de SV1 et SV2 (adresse/sous-adresse) et
SV3-SV50 (mode primaire, valeur1 et valeur2 pour les ports 1-16.
En particulier, elle ne traite pas SV0 (configuration niveau de la carte),
SV51-SV98 (Opcodes suppléants) ou SV101-124 (servo config).
<P>
Utilisation du modèle:
<UL>

<UL>
<LI> Entrez une adresse LocoIO et sous-adresse
<LI> Cliquez sur la touche "sonde"
<LI><LI> Si une locoIO est trouvée à cette adresse, sa version est affichée
(la fenêtre Moniteur LocoNet montrera tous les LocoIOs qui ont répondu
à la requête de sondage si vous en avez besoin pour vous rafraîchir la mémoire)

<LI> Si vous souhaitez changer l'adresse d'une carte locoIO, vous DEVEZ
veiller à ce qu'elle soit la seule carte locoIO  reliée à la
LocoNet, que l'adresse soit réglée par un message de diffusion. Un message déroulant
vous le rappelera. Si vous l'ignorez, alors toutes les locoIOs
sur votre loconet seront reprogrammée à la même nouvelle adresse.

<li> "lire tous", lit toutes les valeurs du CV LocoIO spécifié.
     "écrire tous», les écrit tous

<LI> Le bouton individuel en lecture/écriture fait la même chose, mais pour une seul boutons
      à la fois.

<LI> "capture" extrait l'adresse de sortie du prochain aiguillage ou un
     message loconet d'un capteur d'occupation, il le voit et l'utilise comme
     l'adresse du port sélectionné.
.
</UL>

<P>
Liste des Choses à faire:
<UL>
<LI> Besoin d'interface utilisateur pour configurer les états SV0 différents.

<LI> Rédiger une routine "changement d'adresse"  qui prend à la fois l'ancienne 
et la nouvelle adresse et ne la changera sans l'aide d'une adresse de diffusion.

<LI> Rédiger un ensemble de données de configuration dans un fichier texte sous la
forme utilisée par le programmateur de Hans, et le relire en arrière quand
demandé.
<UL>

</UL>


<A name="older">

        <h2>Instructions pour les programmateurs plus anciens</h2></a>
			<a href="images/locoio.gif">
			    <img src="images/locoio.gif"
			         width=100 height=50></a>
            <p>
          Il s'agit d'un ancien programmateur LocoIO, qui est toujours disponible dans JMRI. 
Cette section contient les instructions pour ce programmateur.
<P>
Le programmateur dispose d'une interface basée sur des tables de configuration
<a HREF="http://www.locobuffer.com/LocoIO.htm">  de la carte LocoIO de John Jabour </a>,
un élément puissant pour créer des cartes CTC et les panneaux de contrôle. (Plus d'informations 
sur la carte est disponible à
 <a HREF="http://www.locobuffer.com/LocoIO.htm"> http://www.locobuffer.com/LocoIO.htm  </a>)
		    </p>

		    <p>Une carte LocoIO a 16 broches de signal, dont chacune peut être
programmée comme entrée ou sortie, et faire un certain nombre de choses différentes. La carte 
est également parfois décrite comme ayant 16 canaux.</p>

		    <p>Les canaux sont configurés au moyen de messages LocoNet. Le
programmateur LocoIO utilise une table pour représenter les configurations de chaque canal. </p>

<p>
La colonne «Action» est utilisée pour sélectionner la façon dont le canal se comporte. Cliquez 
dans une cellule pour donner un choix de menus de disponibles
. Actuellement, les choix sont:
		    <div class=list>
		    <dl>
		    <dt class=left><dfn>«Interrupteur à bascule contrôles aiguillage" </dfn> </dt>
<jj class=first> <p>
Générer un OPC_SW_REQ pour mettre direct/dévié un aiguillage
quand un interrupteur à bascule change d'état.
Quand l'entrée passe au niveau haut, une commande "direct" est envoyée, quand l'entrée est à un niveau 
bas, une commande "dévié" est envoyée. La valeur de configuration de canal est 0x0F. </dd>

<dt class=left> <dfn> "l'aiguillage bascule sur un niveau bas" </dfn> </dt>
<dd> <p>
Générer un message OPC_SW_REQ LocoNet lorsque l'entrée passe au niveau bas

		                <p>
           		 A cette adresse d'aiguillage ou de signal, si «direct» a été envoyé en dernier, un
"dévié " sera envoyé maintenant et vice-versa. La valeur de configuration du canal est 0x6F.
</dd>		   
		    <dt class=left><dfn>"Message d'état définissant une sortie" </dfn> </dt>
<dd>
<p> Pilote l'état des sortie en fonction des messages reçus sur les entrées OPC_INPUT_REP de LocoNet
. La sortie passe au niveau haut lorsque le message "entrée haute" est reçu, et passe au niveau bas 
lorsque le message "entrée basse" est reçu. Les messages sont également utilisés pour le statut 
d'occupation de canton, la sortie passe à "haut" lorsque le canton est occupé, et à "bas" lorsque 
qu'il est libre. La valeur de configuration de canal est 0xC0.
		    </dd>

		    <dt class=left><dfn>"La commande aiguillage direct fixe l'état de la sortie" </dfn> </dt>
<dd>Pilote une sortie sur la carte LocoIO à réception d'une commande OPC_SW_REQ. La valeur de configuration 
de canal est 0x80. Permet de régler le champ d'adresse pour trouver une commande qui fixe l'aiguillage en "direct".
</dd>

<dt class=left><dfn> ""La commande aiguillage dévié fixe l'état de la sortie" </dfn> </dt>
<dd>
<p> Pilote une sortie sur la carte LocoIO à réception d'une commande OPC_SW_REQ. La valeur de configuration de 
canal est 0x80. Permet de régler le champ d'adresse pour trouver une commande qui fixe l'aiguillage à "dévié".</dfn></dt>
	   
		    </dl>
		    </div>

		    <p> Dans la fenêtre principale
		    Les colonnes "Hex Valeur 1, Valeur 2 "  définissent l'adresse que la
carte LocoIO va utiliser pour les communications LocoNet. Celle-ci contient une représentation hexadécimale
 des deux valeurs de configuration décrites dans le Guide de programmation LocoIO de John Jabour.  En général, 
vous n'aurez pas besoin de comprendre ces adresses, les boutons <span  class=button>capture</span> les 
trouvererons pour vous.
		    <p>
		    Nous prévoyons aussi d'avoir une colonne "User Address "(Adresse utilisateur) qui affiche 
une adresse lisible par l'homme pour les aiguillages et les capteurs. Pour les messages d'aiguillage, c'est le 
même nombre que vous utilisez sur votre régulateur. Pour les messages d'occupation canton, c'est le numéro de 
canton. Pour les messages d'état d'entrée, c'est le numéro d'entrée, qui est le double du nombre de la Fenêtre 
Principale de l'aiguillage associé, plus un s'il s'agit d'un "switch" DS54 d'entré.  

		    <p>
		    Le bouton <span class=button> Lire </span> fait une lecture de la carte via le LocoIO de 
LocoNet et affiche la configuration actuelle pour cette broche. Le bouton<span class=button>Ecrire </span> 
emmagasine les paramètres actuels sur la carte LocoIO.
		    <p>

		    Le bouton <span class=button> Capture </span> offre un moyen facile de
trouver une adresse LocoNet nécessaire. Configurez l'entrée et sortie
pour une broche particulière, puis appuyez sur la  <span class=button>Capture </span>.
L'adresse dans le message LocoNet suivant le bon type sera mis dans la colonne des adresses.
<p>
Par exemple, si vous avez un ensemble de canaux a actionner quand un " message d'état aiguillage direct" 
est reçu, appuyez sur la <span class=button> capture </span> et d'utiliser votre régulateur pour commander 
le bon aiguillage en position direct
  
		    <p>
		    Comme autre exemple, si le canal est configuré pour envoyer une
«Envoyer une commande aiguillage dévié ", appuyez sur le bouton <span class=button>Capture </span> et utilisez votre
régulateur pour commander le bon aiguillage en position déviée.

<p>
Au bas de la table sont des contrôles généraux. Le Champ d'adresse LocoIO définit l'adresse de la carte en cours de programmation.
Les processeurs LocoIO sont envoyés avec une adresse 1051 programmée, voir ci-dessous pour savoir comment changer cela.
Adresse "0" est une adresse globale qui fera répondre toutes les cartes LocoIO; assurez vous d'en avoir qu'une seule de 
connectée lorsque vous utilisez ceci!
		    <p>
		    Le bouton <span class=button> adresse Set <span> va utiliser l'adresse globale pour 
configurer une adresse spécifique dans une carte LocoIO. Encore une fois, assurez vous d'avoir une seule 
de connectée. (Ce bouton est désactivé dans la version actuelle pendant que nous essayons de résoudre ce problème)
<p>
Les boutons <span class=button> Open span ...</span> et <span class=button> Sauvegarder ...</span> ne sont 
pas encore mis en œuvre. Ils finiront par vous permettre de charger et stocker des fichiers de configuration.
		    <p>
		    Les boutons  <span class=button> Tout Lire</span> et <span class=button>Tout Écrire </span> 
ne lisent ni n'écrivent dans tous les canaux, et sont juste une commodité.
<p>
Les messages d'état lors de la capture/lecture/écriture sont affichés à la bas de la fenêtre. Si aucune 
réponse n'est reçuE par l'unité LocoIO , l'opération sera renouvelée jusqu'à ce qu'elle réussisse ou jusqu'à 
ce que vous fermiez la fenêtre.

<!--#include virtual="/Footer" -->

</BODY>
</HTML>
