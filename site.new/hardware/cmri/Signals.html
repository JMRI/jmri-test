<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: Signals.html,v 1.1 2004-12-31 01:26:25 jacobsen Exp $ -->
<html lang="en">
<head>
 <TITLE>
      JMRI Hardware Guide: Signals with C/MRI
 </TITLE>
    <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
    <META content="Bob Jacobsen, LBL" name=Author>
    <META name="keywords" content="Bruce Chubb C/MRI Computer interface java model railroad JMRI signals">

<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<body>
<div id="container">
  <p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<!-- Header -->
    <div id="header">
	<!-- Logo -->
	<a href="/" title="Return to home page" accesskey="1">
	    <img src="/images/logo-jmri.gif" width="160" height="135" alt="JMRI Logo"> </a>
	<!-- /Logo -->
	<ul id="mainNav"> <!-- Top tool bar -->
	   <li><a href="/download/"  title="Get the latest software">Download</a></li>
	   <li><a href="/apps/"      title="Learn about JMRI applications">Applications</a></li>
	   <li><a href="/hardware/"  title="What hardware does JMRI support">Hardware</a></li>
	   <li><a href="/doc/Manual/"   title="Trouble-shooting, and FAQs">Manual</a></li>
	   <li><a href="/doc/Technical/" title="Developing and extending JMRI">Developers</a></li>
	   <li><A href="/community/" title="Who is JMRI">Acknowledgements</a></li>
	</ul>

	<div id="searchform"> <!--  Search Form -->
	  <form id="search" method="get" action="http://www.google.com/custom">
	     <label for="q" title="Search JMRI.SourceForge.net">search JMRI: </label>
	     <input type="hidden" name="cof" value="LW:200;LH:95;L:http://JMRI.sourceforge.net/images/logo.gif;GIMP:#cc0000;T:black;ALC:#0000ff;GFNT:grey;LC:#990000;BGC:white;AH:center;VLC:purple;GL:0;GALT:#666633;AWFID:9262c37cefe23a86;">
	    <input type="hidden" name="domains" value="JMRI.sourceforge.net">
	    <input type="hidden" name="sitesearch" value="JMRI.sourceforge.net">
	    <input type="text" id="q" name="q" accesskey="s" size="30">
	    <input type="submit" id="submit" value="go">
	  </form>
       </div> <!--  End #searchform -->
    </div> <!-- closes #header-->
<!-- /Header -->





  <hr class="hide">

  <div class="nomenu" id="mBody">
    <div id="mainContent">
      <H2> 
      JMRI Hardware Guide: Signals with C/MRI
      </H2>
      

For signals with separate Red/Yellow/Green diodes, the situation is 
simple:  Connect each one to a separate output with the proper 
polarity, have the program drive those three outputs, and it will 
Just Work.  The "Triple Turnout" type of signal handles that type of 
wiring.

<P>

For signals with just Red and Green diodes, there are two ways of wiring them:

<P>
A) The diodes have one common connection, plus one lead for powering 
each diode.  This is the so-called "three lead" type.  Note that 
there are still just two diodes here, but there are three leads to 
wire.

<P>
B) The diodes are wired back to back.  This is the so-called "two lead" type

<P>
In both cases you wire these to two C/MRI outputs.  There are a 
couple of extra resistors, and perhaps an external power supply 
involved, so that when one of the C/MRI outputs is activated, power 
is applied to one diode and it lights, and when the other is 
activated the other diode gets power. That makes Red and Green.  The 
"Double Turnout" signal type handles this.

<P>
To get Yellow, you have to power both LEDs.  This is easy with wiring 
(A) above;  the program just activates both of the outputs, both LEDs 
make light, and the Red and Green combine to make Yellow.

<P>
With wiring B, you can't simultaneously light both LEDs, since 
current can't flow in two directions at the same time.  But "at the 
same time" is the key; just alternate the direction of the current 
Very Fast, too fast for the eye to see, and the colors will merge 
into Yellow.  There are two ways to do this:

<P>
A1) Use an external circuit.  There's a signal driver board to do 
this what connects between the C/MRI outputs and the LED leads.  When 
it detects that _both_ outputs are on, it rapidly alternates the 
voltage to the LEDs, making yellow.  This circuit can be used with 
any C/MRI system type, and you don't have to tell PanelPro anything 
to make it work.

<P>
A2) Use support built into the SMINI card.  An SMINI card can be 
configured to do a similar thing.  When the SMINI detects the two 
outputs are on, it alternates the voltage.  To configure this, you 
have to go to the PanelPro preferences, click on "Configure C/MRI 
nodes", select an SMINI to configure, and click on one of the little 
check-boxes to configure a specific output as "two lead oscillating 
signal". Click "Edit Node" to update, then close that panel, click 
"Save" and restart the program.  Once this is done, a "Double 
Turnout" signal type will also generate yellow signals on those 
outputs.


      <hr class="hide">
<!-- Footer -->
    <hr class="hide">
    <div id="footer">
	<ul id="bn">
	<li><a href="/sitemap/">Site Map</a></li>
	<li><a href="/contact/">Contact Us</a></li>
	</ul>

	<p>Thanks and congratulations to
	   <A href="/community/" title="Who is JMRI">
	   	all who contributed</A>! </p>

	<p>Copyright &copy; 1997 - 2004 JMRI Community. 
	<P>JMRI, DecoderPro, PanelPro, DispatcherPro and associated logos are our trademarks.
	<P><A href="/Copyright.html">Additional information on copyright, trademarks and licenses is linked here.</a></p>
    
       <BR/>Site hosted by: <BR/>
        <A href="http://sourceforge.net"> 
        <IMG src="http://sourceforge.net/sflogo.php?group_id=26788&amp;type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A> 


    </div>
<!-- /Footer -->
   </div><!-- closes #mainContent-->
  </div> <!-- closes #mBody-->
</div> <!-- closes #container -->
</body>
</html>

