<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: Debug.html,v 1.3 2004-11-12 02:56:42 jacobsen Exp $ -->
<html lang="en">
<head>
 <TITLE>
 JMRI: Debugging Your Installation
 
 </TITLE>
<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->

    <META content="Bob Jacobsen" name=Author>
    <META name="keywords" content="java model railroad JMRI install debug">
</head>

<body>
<div id="container">
  <p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<!-- Header -->
    <div id="header">
	<!-- Logo -->
	<a href="/" title="Return to home page" accesskey="1">
	    <img src="/images/logo-jmri.gif" width="160" height="135" alt="JMRI Logo"> </a>
	<!-- /Logo -->
	<ul id="mainNav"> <!-- Top tool bar -->
	   <li><a href="/download/"  title="Get the latest software">Download</a></li>
	   <li><a href="/apps/"      title="Learn about JMRI applications">Applications</a></li>
	   <li><a href="/hardware/"  title="What hardware does JMRI support">Hardware</a></li>
	   <li><a href="/doc/Manual/"   title="Trouble-shooting, and FAQs">Manual</a></li>
	   <li><a href="/doc/Technical/" title="Developing and extending JMRI">Developers</a></li>
	   <li><A href="/community/" title="Who is JMRI">Acknowledgements</a></li>
	</ul>

	<div id="searchform"> <!--  Search Form -->
	  <form id="search" method="get" action="http://www.google.com/custom">
	     <label for="q" title="Search JMRI.SourceForge.net">search JMRI: </label>
	     <input type="hidden" name="cof" value="LW:200;LH:95;L:http://JMRI.sourceforge.net/images/logo.gif;GIMP:#cc0000;T:black;ALC:#0000ff;GFNT:grey;LC:#990000;BGC:white;AH:center;VLC:purple;GL:0;GALT:#666633;AWFID:9262c37cefe23a86;">
	    <input type="hidden" name="domains" value="JMRI.sourceforge.net">
	    <input type="hidden" name="sitesearch" value="JMRI.sourceforge.net">
	    <input type="text" id="q" name="q" accesskey="s" size="30">
	    <input type="submit" id="submit" value="go">
	  </form>
       </div> <!--  End #searchform -->
    </div> <!-- closes #header-->
<!-- /Header -->





  <hr class="hide">

  <div class="nomenu" id="mBody">
    <div id="mainContent">
      <H1> 
      JMRI: Debugging Your Installation
      </H1>

	This page presents an orderly method for debugging
	problems that first appear when JMRI/DecoderPro is installed.
	<P>
	Even if you're an experienced debugger, we suggest you work
	your way through these steps in order. That way, if all else
	fails and you have to call for help, most of the initial 
	stuff will be known to be OK.
	
    <h2>Step 1: Do you have Java installed? </h2>

	<p> Start by making sure you have an appropriate version of Java on
	your system by typing</p>

	<p class=example> java -version </p>

	at a command prompt and looking the message that produces. 
	You need to have at least Java version 1.1.8
	installed to use JMRI.  If you get a message about "command not found"
	or similar, then Java is not properly installed; consult the
	install pages for your 
    <A href="MacOSClassic.html">Macintosh</a>,
    <A href="MacOSX.html">MacOS X</a>,
    <A href="Linux.html">Linux</a>,
    <A href="OS2.html">OS/2</a> or
    <A href="Windows.html">Windows</a> computer for advice on how to fix this.
	
    <h2>Step 2: Does the program start? </h2>

    Try to start DecoderPro.  (The method to do this
    depends on whether you are using a
    <A href="MacOSClassic.html">Macintosh</a>,
    <A href="MacOSX.html">MacOS X</a>,
    <A href="Linux.html">Linux</a>,
    <A href="OS2.html">OS/2</a> or
    <A href="Windows.html">Windows</a> computer; see the relevant page)
    <P>
    
    This tests whether the basic installations of Java and JMRI are
    OK.  If the program doesn't start up and run at least as far 
    as producing it's title screen and menus, there's something
    wrong with either the JMRI installion, or perhaps with the Java
    installation.
    <P>
    In that case, look for console messages that might describe what went
    wrong.  Those appear in different places:
    <DL>
    <DT>Macintosh<DD>In a new windows that pops up in front
    <DT>MacOS X<DD>In the "Console" application, which you have to start
    <DT>Linux<DD>In the shell window from which you started the program
    <DT>OS/2<DD>In the command window from which you started the program
    <DT>Windows<DD>In the "Java" window; you might have to find this in the start bar
    at the bottom of the screen and expand it
    </DL>
    <P>
    See if the messages tell you anything useful about missing pieces, etc.  If
    not, cut and paste them into an email to the jmriusers discussion list, and
    somebody will help you figure out what went wrong.
    
    <h2>Step 3: Are the Java communications libraries present?</h2>
    
    Once the program is running, pull down the 'Edit' menu and select the
    'Preferences ...' item.  This opens the preferences panel.  
    Select the proper protocol for your layout.
    <P>
    At this point, do the names of one or more serial ports appear in the
    selection box on the right?  
    <P>
    If not, does your computer actually have any serial ports?  You
    can't use JMRI without them (Well, you can use the program, but you
    can't communicate with a layout).  You need to either get a serial
    port, or install a USB-serial adapter.
    <P>
    But if you have one or more serial ports, and they're not showing,
    this could mean that the Java communications libraries aren't properly
    installed. Check for error messages (see the note on how to 
    do this in Step 2 above) If you see messages about "failed to load"
    or "missing class", then the communications libraries weren't found.
    <P>
    To fix this, please see the system-specific pages for your 
    <A href="MacOSClassic.html">Macintosh</a>,
    <A href="MacOSX.html">MacOS X</a>,
    <A href="Linux.html">Linux</a>,
    <A href="OS2.html">OS/2</a> or
    <A href="Windows.html">Windows</a> computer.
    
    
    <h2>Step 4: Is the communications port configured right?</h2>
    
    For most protocols, you have to configure the baud rate, and perhaps
    other options.  These have to be set consistently with the layout
    hardware for communications to be possible.
    
    <h2>Step 5: Can the program talk to the layout?</h2>
    
    The method to check whether the program can talk to the
    hardware of your layout depends a little bit on what you 
    have installed.  Basically, you want to command the system
    to do something that you can see.  See if each of the 
    following works:
    
    <UL>
    <LI>With most DCC systems, you can use the "Power Control"
    in the "Tools" menu to turn layout power on and off.  
    By doing that and seeing if the layout actually does as
    commanded (e.g. locomotive lights go on and off), you
    can check that the communication is working.  
    <P>If this tool
    is unavailable (e.g. grayed-out in the menu), your 
    DCC system doesn't have this option, and you should try something
    else.
    <LI>If you have turnouts connected to accessory decoders, 
    you can command them to flip via the "Turnout Control"
    in the "Tools Menu".
    <LI>If you're using a C/MRI system, all of the LEDs on the 
    controller cards (SMINI, etc) should be flashing rapidly once
    the program has started polling.  
	</ul>

    <h2>Step 6: Can decoders be programmed?</h2>

	Typically, this is what people want to do first.  But
	by going through the prior steps, we know that communications
	between  the program and the layout are fine, and we're
	just working through the last details now.
	
	<P>
	To check this:
	<UL>
	<LI>Put a decoder-equipped locomotive on your programming track.
	<LI>Using your DCC throttle (not the program!) make sure you can
	read the decoder's address, CV1. If so, the locomotive's connections
	are OK.
	<LI>On a running and configured version of DecoderPro, 
	select the "Single CV programmer" from the "Tools" menu.
	<LI>Enter "1" in the CV number, and click "Read"
	</UL>
	<P>
	If all goes well, you'll get a succesful read of the same address
	you saw previously.
	<P>
	If not, check for a message. Among the possibilities are:
	<DL>
	<DT>No Locomotive Detected
	<DT>No Acknowledge from Locomotive
	<DD>These comes from the command
	station.  It means that the program was able to talk with the 
	command station OK, but the command station could not talk to the 
	locomotive.  Go back to reading with the throttle and make sure
	what works.  If it does, try selected different programming modes
	(e.g. paged, direct, etc) in DecoderPro and retrying the read.
	<DT>Timeout talking to command station<DD>This means that
	the program didn't hear any response from the command station when it
	requested the CV to be read. This is unexpected, because we found
	that communications to and from the command station were OK in step 5.
	Check that step again.  And look for error messages that might provide
	a clue (see step 3 for info on how to do that)
	</DL>
	
      <hr class="hide">
<!-- Footer -->
    <hr class="hide">
    <div id="footer">
	<ul id="bn">
	<li><a href="/sitemap/">Site Map</a></li>
	<li><a href="/contact/">Contact Us</a></li>
	</ul>

	<p>Thanks and congratulations to
	   <A href="/community/" title="Who is JMRI">
	   	all who contributed</A>! </p>

	<p>Copyright &copy; 1997 - 2004 JMRI Community. 
	<P>JMRI, DecoderPro, PanelPro, DispatcherPro and associated logos are our trademarks.
	<P><A href="/Copyright.html">Additional information on copyright, trademarks and licenses is linked here.</a></p>
    
       <BR/>Site hosted by: <BR/>
        <A href="http://sourceforge.net"> 
        <IMG src="http://sourceforge.net/sflogo.php?group_id=26788&amp;type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A> 


    </div>
<!-- /Footer -->

   </div><!-- closes #mainContent-->
  </div> <!-- closes #mBody-->
</div> <!-- closes #container -->
</body>
</html>

