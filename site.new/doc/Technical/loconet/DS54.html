<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><!-- $Id: DS54.html,v 1.2 2005-02-26 01:35:38 jacobsen Exp $ --><html lang="en"><head>    <TITLE> 	JMRI: DS54 Examples    </TITLE>    <META content="Bob Jacobsen" name=Author>    <meta name="keywords" content="JMRI LocoNet DS54">    <!-- The combination of "Define" and {Header,Style, Logo and Footer} comments -->    <!-- are an arbitrary design pattern used by the update.pl script to -->    <!-- easily replace the common header/footer code for all the web pages --><!-- Style -->  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">  <link rel="icon" href="/images/jmri.ico" type="image/png">  <link rel="home" title="Home" href="/"><!-- /Style --></head><body>    <p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p><!-- Header -->    <div id="header">	<!-- Logo -->	<a href="/" title="Return to home page" accesskey="1">	    <img src="/images/logo-jmri.gif" width="160" height="135" alt="JMRI Logo"> </a>	<!-- /Logo -->	<ul id="mainNav"> <!-- Top tool bar -->	   <li><a href="/download/"  title="Get the latest software">Download</a></li>	   <li><a href="/apps/"      title="Learn about JMRI applications">Applications</a></li>	   <li><a href="/hardware/"  title="What hardware does JMRI support">Hardware</a></li>	   <li><a href="/doc/Manual/"   title="Trouble-shooting, and FAQs">Manual</a></li>	   <li><a href="/doc/Technical/" title="Developing and extending JMRI">Developers</a></li>	   <li><A href="/community/" title="Who is JMRI">Acknowledgements</a></li>	</ul>	<div id="searchform"> <!--  Search Form -->	  <form id="search" method="get" action="http://www.google.com/custom">	     <label for="q" title="Search JMRI.SourceForge.net">search JMRI: </label>	     <input type="hidden" name="cof" value="LW:200;LH:95;L:http://JMRI.sourceforge.net/images/logo.gif;GIMP:#cc0000;T:black;ALC:#0000ff;GFNT:grey;LC:#990000;BGC:white;AH:center;VLC:purple;GL:0;GALT:#666633;AWFID:9262c37cefe23a86;">	    <input type="hidden" name="domains" value="JMRI.sourceforge.net">	    <input type="hidden" name="sitesearch" value="JMRI.sourceforge.net">	    <input type="text" id="q" name="q" accesskey="s" size="30">	    <input type="submit" id="submit" value="go">	  </form>       </div> <!--  End #searchform -->    </div> <!-- closes #header--><!-- /Header -->    <hr class="hide">    <div class="nomenu" id="mBody">	<div id="mainContent">	    <!-- ------------- -->	    <!-- Page Contents --> <!-- Required -->	    <!-- ------------- -->	    <H1>JMRI: DS54 Examples</H1>		<p class=subtitle>		    Examples of using a Digitrax DS54 with JMRI.		</p>The DS54 accessory decoder can be configured in a large number ofways.  (<A href="../../../apps/DecoderPro">DecoderPro</a> can help with that)<P>Walter Thompson walked through the details of this:With the ds54 at defaults these are the  Loconet msgs when either Switch Aor Aux A goes positive causing the Turnout to "toggle" state:<BR>When Switch A (blue lead) goes high loconet msg b2 8 70 35.<BR>When Aux A (orange lead) goes high loconet msg b2 8 50 15<P>I then set "When Switch A input changes, send" ="Turnout feedback msg"<BR>When Switch A (blue lead) goes high loconet msg b2 8 70 36<BR>When Aux A (orange lead) goes high loconet msg b2 8 50 15<P>I then set "When Aux A input changes, send"= "Turnout feedback message"<BR>When Switch A (blue lead) goes high loconet msg b2 8 70 36<BR>When Aux A (orange lead) goes high loconet msg b2 8 50 16<P>Therefore, when the Switch and Aux inputs are set to send a turnout feedback message, the feedback mechanisms built into recent versionsof JMRI can be used to track the turnout state when the localinputs are used to change the turnout.<h2>Exact Feedback</h2>To use exact feedback, you need to connect two microswitches to the turnout and to the Switch and Aux inputs on the DS54. <P>Configure the DS54 channel with:<PRE> Aux A input"='Active ON, trigger on change, Postive Level" Aux A task"="No Output change" When Aux A input changes, send"= "Exact turnout feedback message" Switch A input"='Active ON, trigger on change, Postive Level" Switch A task"="No Output change" Switch A input changes, send"= "Exact turnout feedback message"</PRE>Configure the Turnout (via the Turnout Table) to use "EXACT" feedback.Start with the turnout closed, Switch A would be Closed and Aux A open .Issue Thrown command from DT400; Loconet msgs b0 8 10 57 and b0 8 0 47.Open Switch A, turnout starts to move; loconet msgs b1 8 60 26,Turnout 9 Switch input is Thrown (input on)Close Aux A, turnout had reached thrown state, loconet msg b1 8 50 16.Turnout 9 Aux input is Closed (input off)Now i issue a Close cmd from the DT400; loconet msgs b0 8 30 77 and b0 8 20 67Open Aux A, turnout starts to move; loconet msg b1 8 40 6Turnout 9 Aux input is Thrown (input on)close Switch A, turnout had reached closed state; loconet msg b1 8 70 36.Turnout 9 Switch input is Closed (input off)<!-- Footer -->    <hr class="hide">    <div id="footer">	<ul id="bn">	<li><a href="/sitemap/">Site Map</a></li>	<li><a href="/contact/">Contact Us</a></li>	</ul>	<p>Thanks and congratulations to	   <A href="/community/" title="Who is JMRI">	   	all who contributed</A>! </p>	<p>Copyright &copy; 1997 - 2004 JMRI Community. 	<P>JMRI, DecoderPro, PanelPro, DispatcherPro and associated logos are our trademarks.	<P><A href="/Copyright.html">Additional information on copyright, trademarks and licenses is linked here.</a></p>           <BR/>Site hosted by: <BR/>        <A href="http://sourceforge.net">         <IMG src="http://sourceforge.net/sflogo.php?group_id=26788&amp;type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A>     </div><!-- /Footer -->	  </div><!-- closes #mainContent-->	</div> <!-- closes #mBody--></body></html>