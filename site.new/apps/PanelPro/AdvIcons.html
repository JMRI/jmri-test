<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: AdvIcons.html,v 1.10 2011-06-21 18:37:29 matthewharris Exp $ -->
<html lang="en">

<head>
    <TITLE>
JMRI: Advanced Icons in PanelPro
    </TITLE>
    <META content="Bob Jacobsen" name=Author>
    <META name="keywords"
          content="java model railroad JMRI panelpro icons memoryicon reportericon">

<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<body>
    <div id="container">
    <p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<!-- Header -->
    <div id="header">
	<!-- Logo -->
	<a href="/" title="Return to home page" accesskey="1">
	    <img src="/images/logo-jmri.gif" width="160" height="135" alt="JMRI Logo"> </a>
	<!-- /Logo -->
	<ul id="mainNav"> <!-- Top tool bar -->
	   <li><a href="/download/"  title="Get the latest software">Download</a></li>
	   <li><a href="/help/en/html/apps/index.shtml"      title="Learn about JMRI applications">Applications</a></li>
	   <li><a href="/help/en/html/hardware/index.shtml"  title="What hardware does JMRI support">Hardware</a></li>
	   <li><a href="/help/en/DecoderProManual/index.shtml"   title="Trouble-shooting, and FAQs">Manual</a></li>
	   <li><a href="/help/en/html/doc/Technical/index.shtml" title="Developing and extending JMRI">Developers</a></li>
	   <li><A href="/community/" title="Who is JMRI">Acknowledgements</a></li>
	</ul>

	<div id="searchform"> <!--  Search Form -->
	  <form id="search" method="get" action="http://www.google.com/search">
	     <label for="q" title="Search JMRI.org">search JMRI: </label>
	    <input type="hidden" name="sitesearch" value="jmri.org">
	    <input type="text" id="q" name="q" accesskey="s" size="30">
	    <input type="submit" id="submit" value="go">
	  </form>
       </div> <!--  End #searchform -->
    </div> <!-- closes #header-->
<!-- /Header -->


<!-- start PanelPro side bar -->
	  <hr class="hide">
	  <div id="mBody">
	  <div id="side"> <!-- Block of text on left side of page -->
	    <dl>
		<dt><h3><a href="FAQ.html">FAQ</a></h3></dt>
		<dd>
		    Frequently asked questions about PanelPro and their answers
		</dd>

		<dt><h3>Useful References</h3></dt>
		<dd>
		    <UL>
		    <LI><A HREF="/apps/Signalling/">Signals</a>
		    <LI><A HREF="../../../tools/Routes.html">Routes</a>
		    <LI><A HREF="../../../tools/fastclock">Fast Clocks</a>
		    <LI><A HREF="AdvIcons.html">Advanced Icons</a>
		    <LI><A HREF="../../doc/Technical/TurnoutFeedback.html">Turnout Feedback</a>
		    </UL>
		</dd>

	    </dl>

<a href="/donations.shtml">
 <img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" border="0" ALIGN="RIGHT" alt="Donate to JMRI" />
</a> 

<!-- end PanelPro side bar -->

	</div> <!-- closes #side -->
	<hr class="hide">	<!-- only shows up on printouts -->
	<div id="mainContent">	<!-- Body of page -->

		<h1>JMRI: Advanced Icons in PanelPro</h1>


<h3>Memory Icons</h3>
<A id="memoryicon"/>

Memory objects are meant for scripting 
control; the first implementation is a MemoryIcon that lets you put a multi-state icon 
on the screen. 
<P>
MemoryIcon objects work two ways:  If a series of icons is
defined in the file, the memory contents will be translated
via this table (this was the original behavior).  
If there aren't any icons defined, the memory contents is displayed 
directly, as a string if it's a String and as a NamedIcon 
if it's a NamedIcon.
<P>
See xml/samples/MemoryIconExample.xml for info 
on how to set this up.

<h3>Reporter Icons</h3>
<A id="reportericon"/>

The first implementation of Reporter is Digitrax transponding.  
By adding the appropriate elements to your panel files, you can show 
decoder ID information on your panels.  
<P>
See xml/samples/ReporterIconExample.xml for info 
on how to set this up.

<UL>
<LI>First check that JMRI is seeing the LocoNet messages OK.  From the tools 
menu, open the "Reporter Table". Run a locomotive across your 
transponding sections, and you should see the arrival and departure 
status show up on one of the lines in the table.

<LI>
Next, you need to add the "ReporterIcon" that displays this directly 
to the panel file.
<P>
Look in the "xml/samples" directory within JMRI for a file called 
"ReporterIconExample.xml".
<P>
(It's also available 
<a href="http://jmri.sf.net/xml/samples/ReporterIconExample.xml">on the web</a>
but many browsers will try to interpret it instead of showing you the 
text; your browser's "View Source" option might help with that)
<P>
You'll see this line:
<P>
&lt;reportericon reporter="LR12" x="10" y="10" 
class="jmri.jmrit.display.configurexml.ReporterIconXml"/&gt;
<P>
The "x" and "y" define where you want it on your panel.  The "LR12" 
is the name of the reporter object, e.g. the name of the one you saw 
changing when you were looking at the table.
<LI>
Open your panel file with your favorite editor (WordPad if you've got 
nothing you like better), and insert a line like that above  right 
_after_ the line that starts with
<P>
  &lt;paneleditor class="jmri.jmrit.display.configurexml.PanelEditorXml"
<P>
(The "paneleditor" line starts a new panel.  If you have more than 
one panel in the file, you'll have to look for the panel title to see 
where to insert the new line)
</UL>
It's actually not as hard as it sounds.


	    </div> <!-- closes .list -->

<!-- Footer -->
    <hr class="hide">
    <div id="footer">
	<ul id="bn">
	<li><a href="/sitemap/">Site Map</a></li>
	<li><a href="/contact/">Contact Us</a></li>
	</ul>

	<p>Thanks and congratulations to
	   <A href="/community/" title="Who is JMRI">
	   	all who contributed</A>! </p>

	<p>Copyright &copy; 2004 - 2005 JMRI Community. 
	<P>JMRI, DecoderPro, PanelPro, DispatcherPro and associated logos are our trademarks.
	<P><A href="/Copyright.html">Additional information on copyright, trademarks and licenses is linked here.</a></p>
    
       <BR/>Site hosted by: <BR/>
        <A href="http://sourceforge.net"> 
        <IMG src="http://sourceforge.net/sflogo.php?group_id=26788&amp;type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A> 


    </div>
<!-- /Footer -->

	    <script type="text/javascript" 
		src="http://ss.webring.com/navbar?f=j;y=bob_jacobsen15;u=100088115910095949">
		</script><noscript><center>
		<table bgcolor=gray cellspacing=0 border=2 bordercolor=red><tr>
		<td><table cellpadding=2 cellspacing=0 border=0><tr><td align=center>
		<font face=arial size=-1>This site is a member of WebRing. 
		<br>To browse visit <a href="http://ss.webring.com/navbar?f=l;y=bob_jacobsen15;u=100088115910095949">
		Here</a>.</font></td></tr></table></td></tr></table>
		</center></noscript>

	</div> <!-- closes #mainContent-->
    </div> <!-- closes #mBody-->
</div> <!-- closes #container -->
</body>
</html>


