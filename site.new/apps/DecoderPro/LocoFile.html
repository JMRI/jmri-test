<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: LocoFile.html,v 1.14 2008-02-10 17:13:31 jacobsen Exp $ -->
<html lang="en">
<head>
    <TITLE>
	JMRI: DecoderPro User Guide - Locomotive Files
    </TITLE>
    <META content="Bob Jacobsen" name=Author>
    <meta name="keywords" content="java model railroad JMRI DecoderPro user guide">

<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<body>
<p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>

<!-- Define logo images/decoderpro.gif -->
<!-- Header -->
    <div id="header">
	<!-- Logo -->
	<a href="/" title="Return to home page" accesskey="1">
	    <img src="/images/decoderpro.gif" width="160" height="135" alt="JMRI Logo"> </a>
	<!-- /Logo -->
	<ul id="mainNav"> <!-- Top tool bar -->
	   <li><a href="/download/"  title="Get the latest software">Download</a></li>
	   <li><a href="/apps/"      title="Learn about JMRI applications">Applications</a></li>
	   <li><a href="/help/en/html/hardware/index.shtml"  title="What hardware does JMRI support">Hardware</a></li>
	   <li><a href="/doc/Manual/"   title="Trouble-shooting, and FAQs">Manual</a></li>
	   <li><a href="/doc/Technical/" title="Developing and extending JMRI">Developers</a></li>
	   <li><A href="/community/" title="Who is JMRI">Acknowledgements</a></li>
	</ul>

	<div id="searchform"> <!--  Search Form -->
	  <form id="search" method="get" action="http://www.google.com/custom">
	     <label for="q" title="Search JMRI.SourceForge.net">search JMRI: </label>
	     <input type="hidden" name="cof" value="LW:200;LH:95;L:http://JMRI.sourceforge.net/images/logo.gif;GIMP:#cc0000;T:black;ALC:#0000ff;GFNT:grey;LC:#990000;BGC:white;AH:center;VLC:purple;GL:0;GALT:#666633;AWFID:9262c37cefe23a86;">
	    <input type="hidden" name="domains" value="JMRI.sourceforge.net">
	    <input type="hidden" name="sitesearch" value="JMRI.sourceforge.net">
	    <input type="text" id="q" name="q" accesskey="s" size="30">
	    <input type="submit" id="submit" value="go">
	  </form>
       </div> <!--  End #searchform -->
    </div> <!-- closes #header-->
<!-- /Header -->

<hr class="hide">

    <div id="mBody">

    <!-- Or, you can delete the entire div id=side block if you don't need a -->
    <!-- side menu.  You should then add class=nomenu to the above div       -->
    <!-- Example: <div class="nomenu" id="mBody">			     -->

	<div id="side"> <!-- Block of text on left side of page -->

<dl class=toc>

<h3>User Guide</h3></dt><DD><UL>
<LI><a href="./Tour.html">Quick tour</A>
<LI><a href="./MoreInfo.html">Details</A>
<LI><a HREF="./Files.html">Configuration files</a>
<LI><a HREF="./Roster.html">Working with the roster</a>
<LI><a HREF="./FAQ.html">Frequently asked questions</a>
<LI><a HREF="./Install.html">Downloading and installing DecoderPro</a>
</UL>

<dt><h3>More advanced information</h3></dt><DD><UL>

<LI><a HREF="./IntroXML.html">Intro to XML files</a>
<LI><a href="./CreateDecoder.html">Create your own decoder definition</a>
<LI><a href="./Programmer.html">Create a custom programmer definition</a>
<LI><a HREF="./RosterFile.html">How the roster is stored; updating it by hand</a>
<LI><a HREF="./LocoFile.html">Locomotive (roster) files</a>
<LI><a HREF="./Debug.html">Debugging</a>
<LI><a HREF="./NetworkFiles.html">Sharing Rosters Among Computers</a>
<LI><a HREF="./FileUpdate.html">Updating Decoder Definitions</a>
</UL>

</dl>

	</div> <!-- End of block of text on left side of page -->

<div id="mainContent">

<div class=list>
<H1>DecoderPro User Guide - Locomotive Files</H1>

<p>DecoderPro maintains the information for each roster entry in a separate file.
You generally don't have to edit these, or even look at them. This page describes
their content just in case you're interested.
<P>
First, the XML contains some header information that describes the format & history of the file:
<p class=example>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>
&lt;!DOCTYPE locomotive-config SYSTEM "locomotive-config.dtd"&gt;<br>
&lt;locomotive-config&gt;<br>
&nbsp;&nbsp;&lt;!--Written by JMRI version 1.6.1 on Sat Oct 08 07:00:30 PDT 2005 $Id: LocoFile.html,v 1.14 2008-02-10 17:13:31 jacobsen Exp $--&gt;
</p>

This is followed by the summary information for the entry.  Most of this
comes from the "Roster Entry" pane in DecoderPro:

<p class=example>
&nbsp;&nbsp;&lt;locomotive id="UP 792" roadNumber="" roadName="" mfg="" model="" dccAddress="792" comment=""&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;decoder model="DH163" family="Series 3 with FX3, silent, readback" comment="" /&gt;<br>
</p>

That's then followed by a section that contains values for all the variables
defined in the decoder definition file.  Note that these are numeric values; the decoder definition
file are used to convert these to strings, etc, when this is read back in.

<p class=example>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;values&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;decoderDef&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;varValue item="Primary Address" value="24" /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;varValue item="Start Volts" value="0" /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;varValue item="Acceleration Rate" value="0" /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;varValue item="Deceleration Rate" value="0" /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;varValue item="Max Volts" value="0" /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;varValue item="Mid Volts" value="0" /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;varValue item="Version ID" value="0" /&gt;<br>
</p>

Finally, there's a similar section that contains numeric values for all the CVs.
We store both variables and CVs so that if a decoder definition changes in the
future, we can sort out what's actually in the decoder.

<p class=example>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;CVvalue name="1" value="24" /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;CVvalue name="2" value="0" /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;CVvalue name="3" value="0" /&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;CVvalue name="4" value="0" /&gt;<br>
</p>


</div>

<!-- Footer -->
    <hr class="hide">
    <div id="footer">
	<ul id="bn">
	<li><a href="/sitemap/">Site Map</a></li>
	<li><a href="/contact/">Contact Us</a></li>
	</ul>

	<p>Thanks and congratulations to
	   <A href="/community/" title="Who is JMRI">
	   	all who contributed</A>! </p>

	<p>Copyright &copy; 1997 - 2004 JMRI Community. 
	<P>JMRI, DecoderPro, PanelPro, DispatcherPro and associated logos are our trademarks.
	<P><A href="/Copyright.html">Additional information on copyright, trademarks and licenses is linked here.</a></p>
    
       <BR/>Site hosted by: <BR/>
        <A href="http://sourceforge.net"> 
        <IMG src="http://sourceforge.net/sflogo.php?group_id=26788&amp;type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A> 


    </div>
<!-- /Footer -->

</div><!-- closes #mainContent-->
</div> <!-- closes #mBody-->
</body>
</html>

