<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
    <TITLE>
	JMRI: PacketScript
    </TITLE>

    <META content="Bob Jacobsen" name=Author>
    <meta name="keywords" content="java model railroad JMRI PacketScript user guide">

<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/site.new/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/site.new/css/print.css" media="print">
  <link rel="icon" href="/site.new/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/site.new/">
<!-- /Style -->
</head>

<body>
    <p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>

<!-- Define logo /images/decoderpro.gif -->
<!-- Header -->
    <div id="header">
	<!-- Logo -->
	<a href="/site.new/" title="Return to home page" accesskey="1">
	    <img src="/site.new//images/decoderpro.gif" width="160" height="135" alt="JMRI Logo"> </a>
	<!-- /Logo -->
	<ul id="mainNav"> <!-- Top tool bar -->
	   <li><a href="/site.new/download/"  title="Get the latest software">Download</a></li>
	   <li><a href="/site.new/apps/"      title="Learn about JMRI applications">Applications</a></li>
	   <li><a href="/site.new/hardware/"  title="What hardware does JMRI support">Hardware</a></li>
	   <li><a href="/site.new/doc/Manual/"   title="Trouble-shooting, and FAQs">Manual</a></li>
	   <li><a href="/site.new/doc/Technical/" title="Developing and extending JMRI">Developers</a></li>
	   <li><A href="/site.new/community/" title="Who is JMRI">Acknowledgements</a></li>
	</ul>

	<div id="searchform"> <!--  Search Form -->
	  <form id="search" method="get" action="http://www.google.com/custom">
	     <label for="q" title="Search JMRI.SourceForge.net">search JMRI: </label>
	     <input type="hidden" name="cof" value="LW:200;LH:95;L:http://JMRI.sourceforge.net/images/logo.gif;GIMP:#cc0000;T:black;ALC:#0000ff;GFNT:grey;LC:#990000;BGC:white;AH:center;VLC:purple;GL:0;GALT:#666633;AWFID:9262c37cefe23a86;">
	    <input type="hidden" name="domains" value="JMRI.sourceforge.net">
	    <input type="hidden" name="sitesearch" value="JMRI.sourceforge.net">
	    <input type="text" id="q" name="q" accesskey="s" size="30">
	    <input type="submit" id="submit" value="go">
	  </form>
       </div> <!--  End #searchform -->
    </div> <!-- closes #header-->
<!-- /Header -->






<hr class="hide">

<div class="nomenu" id="mBody">
<div id="mainContent">
<!-- Page Body -->
<H2>JMRI - PacketScript</h2>

<p>This page discusses using the JMRI libraries to test decoders for NMRA
conformance, using a JMRI application called PacketScript.  This capability
is being actively developed, and this page will not always be up-to-date.</p>

<p> See also the JMRI <a HREF="../../Technical/">technical documentation</a>,
as well as the <a HREF="../../Technical/Jython.html">Jython interface</a>
page for more information on scripting.</p>

<dl>
<dt class=left>Introduction</dt>
<dd class=first>
This is a simple introduction that is still being developed
</dd>

<dt class=left>Requirements</dt>
<dd></dd>

<dt class=left>Installation</dt>
<dd></dd>

<dt class=left>Examples</dt>
<dd>
<p class=example>
% ./jmrithon -i packetscript/PacketScript.py<br>
available routines: <br>
&nbsp;&nbsp;send([1,2,3])<br>
&nbsp;&nbsp;sendXOR([1,2,3])<br>
&nbsp;&nbsp;sendBaseline( 0, "On", "Forward", "emergencystop" )<br>
>>> send([1,2,3])<br>
>>> s1 = sensors.provideSensor("12")<br>
>>> s1.knownState<br>
1<br>
>>> if (s1.knownState == ACTIVE):<br>
...&nbsp;&nbsp;&nbsp;&nbsp; print "OK"<br>
... else :<br>
...&nbsp;&nbsp;&nbsp;&nbsp; print "Not OK"<br>
... <br>
Not OK<br>
</p>
</dd>

<dt class=left>Limitations</dt>
<dd>
<h3>Raw-mode" sending</h3>
<p>Few command stations can send arbitrary bit-strings on their
outputs.  The original NMRA program had a sendRaw() capability that
requires this, and is not yet implemented here.</p>

<h3>Programming packets</h3>
<p>Many command stations have separate programming and main outputs.
It's not clear how this program should operate with those.  Currently,
the packets are sent to the main output.</p>
</dd>

</dl>

<!-- Footer -->
    <hr class="hide">
    <div id="footer">
	<ul id="bn">
	<li><a href="/site.new/sitemap/">Site Map</a></li>
	<li><a href="/site.new/contact/">Contact Us</a></li>
	</ul>

	<p>Thanks and congratulations to
	   <A href="/site.new/community/" title="Who is JMRI">
	   	all who contributed</A>! </p>

	<p>Copyright &copy; 2003,2004 JMRI Community</p>
        <BR/>Site hosted by: <BR/>
        <A href="http://sourceforge.net"> 
        <IMG src="http://sourceforge.net/sflogo.php?group_id=26788&amp;type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A> 


    </div>
<!-- /Footer -->

</div><!-- closes #mainContent-->
</div> <!-- closes #mBody-->
</body>
</html>

