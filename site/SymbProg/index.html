<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="Author" content="Bob Jacobsen, LBL">
   <meta name="GENERATOR" content="Mozilla/4.75C-CCK-MCD {C-UDP; EBM-APPLE} (Macintosh; U; PPC) [Netscape]">
   <meta name="Content-Type" content="text/html; charset=iso-8859-1">
   <title>JMRI: Symbolic Programmer</title>
</head>
<body>

&lt;If we had a logo, we'd put it here&gt; <BR>
 
This page is _really_ still under construction! If you can help us make it a better page, please
join the effort.<P>

<H2>JMRI: Symbolic Programmer</h2>

Modern DCC decoders are complicated beasts to program.  
The simple idea of "put the address in CV01" doesn't cope well when you 
program complicated functions using combinations of bit patterns.  A friendlier
interface is needed.  There are programs that provide better ways of programming 
specific decoders.  Unfortunately, they are limited to specific types of computers, and
only their authors can customize them for new types of decoders.
<P>
The JMRI symbolic programmer is meant to improve this. It is configured 
using text files, so that it can be adapted to additional decoder types easily.
It talks to the decoders using the JMRI programming interface, so that it can
run on any computer and layout hardware that JMRI has been ported to.  And since
the code is available via open source, if you want to improve on it you can.

<h3>A quick tour</h3>

When you first open the symbolic programmer, you see a window like this:
<p>
<IMG SRC="images/Initial.gif" WIDTH="509" HEIGHT="390" HSPACE="0" VSPACE="0">
<p>
It has four sections:
<UL>
<LI>At the top are places to enter information about this specific
locomotive, buttons to let you read and write configuration files, and
to select what programming mode you want to use.
<LI>Just below that is an empty table, which will eventually
contain rows of variables used to configure the decoder.
<LI>Next is a table of CV values.  Initially it only contains
the short address CV, as different decoders provide different ones.
<LI>Finally, the bottom of the frame provides a way to change
the configuration using the "Create new CV" and "Create new variable" buttons.
</ul>
<P>
When you click "Read File", you're prompted to select a configuration file.
Selecting one for a Digitrax DH142 decoder, for example, changes the window to 
look like:<P>
<IMG SRC="images/readDecoder.gif" WIDTH="509" HEIGHT="390" HSPACE="0" VSPACE="0">
<P>
Note that the two tables have now been filled in. There are a lot of
options for a Digitrax DH142 decoder, so there are a lot of rows. The
scrollbars let you see more than fit on the screen.
<P>
You can now use the two tables to directly program a decoder in a locomotive on the
programming track.  For example, to set the short address (CV1) to 23, all you 
have to do is:
<OL>
<LI>Type "23" in the box next to CV1.
<LI>Click "Write" on that line.
<LI>If your command station permits it, you can read the CV back by clicking
"Read" on the CV1 line.
</ol>
At this point, the lower table would look like:
<P>
<IMG SRC="images/CV1stored.gif" WIDTH="492" HEIGHT="109" HSPACE="0" VSPACE="0">
<P>
Notice that CV 1 shows "Stored" under status to indicate you've updated that CV.
You can continue to program the rest of the CVs like this, but the upper table 
provides a better way.
<P>
Reading the configuration file has loaded a number of "variables" into the
upper table.  These are individual features of the decoder, basically anything
that can be separately configured.  The simplest types are complete CVs like the
address and momentum settings:
<P>
<IMG SRC="images/simpleVar.gif" WIDTH="715" HEIGHT="101" HSPACE="0" VSPACE="0">
<P>
The name and value columns are the most useful, along with the Read and Write
buttons. The range and state columns are reminders for you, and are described
later.
The "CV" and "Mask" columns show where the value for this variable will be stored.
You generally don't have to worry about those, as the configuration file
is supposed to have set them up right, and normally the window is small enough
that they've scrolled off the right.
<P>
The values of the variables are kept consistent with the CV values in the lower
table. Since we set CV1 to 23, the address variable is also showing a value of
23.
<P>Although having a name for a CV is nice, where this really helps is with
complicated bit-mapped options.  Digitrax FX lighting options, for example,
require configuring two sets of bits into one CV.  In the upper table of this
programmer, that looks like (the columns have been slide wider so the entire
names fit):
<P>
<IMG SRC="images/FX1.gif" WIDTH="510" HEIGHT="52" HSPACE="0" VSPACE="0">
<P>
Instead of bits, you're working with the name or description from the 
decoder manual. Pressing "Read" will then store the right bits into the
CV without you having to do any combinations, etc.
<P>If you want to change the selection, click on the value column to 
get a pop-down list of possibilities:
<P>
<IMG SRC="images/FXchoices.gif" WIDTH="338" HEIGHT="155" HSPACE="0" VSPACE="0">
<P>
"Mars light" is currently showing at the top because its selected. Click on
another option to select it instead, then click "Write" to store it in the
decoder.
<P>
Once you have your locomotive programmed as you'd like, you can click
"Write File" to store that configuration into a text file. That can then
be read later as a starting point for changing the locomotives decoder
settings.

<P>
<A HREF="MoreInfo.html">More information on how this works</a> is available, as is
<A HREF="../index.html">more information on other JMRI tools</A>.

<h3>Availability</h3>
Currently (August 16, 2001) the programmer is still being developed.  In part, this page
exists to encourage people to suggest how it can be improved.  Please send any comments 
to <A HREF="mailto:jake@physics.berkeley.edu">Bob Jacobsen</A>, or post them
via the <A HREF="http://sourceforge.net/projects/jmri/">JMRI project site</a> as a feature request  
(An anonymous feature 
request started this whole effort! We take them very seriously)
<P>
If you want to use it as it stands, you're welcome to take a snapshot from our CVS repository.
See the <A HREF="http://jmri.sourceforge.net/">main JMRI page</a> for info on how to do that.
<P>
If you'd prefer to just get a downloadable version to try out, please be patient.  We expect to do that
around August 23rd, 2001.  When available, it will be announced on the 
<A HREF="http://lists.sourceforge.net/lists/listinfo/jmri-announce">JMRI announcements mailing list</A>, and this page will be updated.

<HR>
<BR>Site hosted by: <BR>
<A href="http://sourceforge.net"> 
<IMG src="http://sourceforge.net/sflogo.php?group_id=26788&type=1" width="88" height="31" border="0" alt="SourceForge Logo"> </A>

<!-- Begin Small Box -->
<form method="POST" action="http://mindit.netmind.com/mindit.shtml">
<input type="hidden" name="FORM" value="C">
<table border="0" cellpadding="5" cellspacing="0" bgcolor="#666666"><tr><td align="center">
<font face="arial,helvetica" size="-1" color="#ffffff"><b>Click to receive email <br>when this page changes</b></font></td>
</tr><tr><td align="center">
<input type="image" src="http://mindit.netmind.com/images/mindit.gif" border="0"></td>
</tr><tr bgcolor="#FFFFCC"><td align="center">
<font face="arial,helvetica" size="-2">&#149;<b> Powered by <a href="http://www.netmind.com"><font color="#000000">NetMind</font></a> </b>&#149;</font>
</td></tr></table>
<input type=hidden value="http://jmri.sourceforge.net/SymbProg/index.html" name="REDIRECT"> 
</form>
<!-- End Small Box -->
 

<hr>
Bob Jacobsen<BR>
jake@physics.berkeley.edu

</body>
</html>
