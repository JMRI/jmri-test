<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: XCode.shtml,v 1.3 2009-10-23 07:32:28 jacobsen Exp $ -->
<html lang="en">
<head>
    <TITLE>
 	JMRI: Building with XCode
    </TITLE>
    <META content="Bob Jacobsen" name=Author>
    <meta name="keywords" content="JMRI technical code JBuilder">

    <!-- The combination of "Define" and {Header,Style, Logo and Footer} comments -->
    <!-- are an arbitrary design pattern used by the update.pl script to -->
    <!-- easily replace the common header/footer code for all the web pages -->

    <!-- delete the following 2 Defines if you want to use the default JMRI logo -->
    <!-- or change them to reflect your alternative logo -->

<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<!--#include virtual="/Header" -->
<!--#include virtual="Sidebar" -->

	<div id="mainContent">
	    <!-- -------- -->
	    <!--  Teaser  --> <!-- Optional -->
	    <!-- -------- -->

<H1>JMRI: Building with XCode</H1>

MacOS X 10.3 and later comes with the XCode suite of 
programming tools.  We're starting to learn how to build JMRI
with this.  This page contains the info we have so far.
<P>
<PRE>
Step 0: Getting Ready (Only needed once)
Generate a new Xcode Project "Somewhere"(Nopossible path conflict with
anything existing....)
- Select: Ant-based Application Jar
- Name it JMRI
- Save (Finish)
- Quit
- Only take the jmri.xcode file and copy it into the JMRI folder right
next to the build.xml file. Delete the rest....
- Start the jmri.xcode at its new location
- Select the Targets -> jmri
- write jar into the Arguments field

Step 1: Source Code compilation
Start XCode 1.5 and press compile
--> Now the jmri.jar should be built at its intended location

Step 2: Program compilation
Start the Jar Bundler, found under Developer/Applications/Java Tools
"Build Information":
Choose the jmri.jar as Main Class and select the program to be compiled
Add a nice picture
Check the rest of the Options on this page
"Classpath and Files":
Add all libs to Additions to Classpath
"Properties":
Add the VM Options and the Additional properties found in the build.xml
Press Create Applicetion and select Program Name

Now you should find a nice program.....

Unfortunately I did not find any way to save the entries in Jar
Builder so you will need to redo everything anytime you start it.....
</PRE>

<h2>Alternate Instructions for XCode 3</h2>

<pre>
Open Terminal

% cd (somewhere you want to do this)
   
% mkdir xcode

% mkdir xcode

Launch XCode (I used 3.1.3)

"New Project"
   select "Java Application"
   click "Choose..."
   save as 'java' in the 'xcode' directory you created


% cd xcode
% mv java/build.xml java/build.xml.old
% cvs -q checkout all

% cd java
% rm src/AboutBox.java
% rm src/PrefPane.java
% rm src/java.java

% open java.xcodeproj/ 

select executables -> java, click "Info";
    general tab ->  select "Custom Directory" and set the xcode/java directory
    
 
 Project -> Edit Active Target "java"
    uncheck pass build settings
    set arguements to: $(ACTION)
    
Project - > edit executable
    name: DecoderPro
    path: /usr/bin/ant
    arguments, add: decoderpro
    

"Build and Run" button should work!
</pre>
<!--#include virtual="/Footer" -->

	  </div><!-- closes #mainContent-->
	</div> <!-- closes #mBody-->
</body>
</html>

