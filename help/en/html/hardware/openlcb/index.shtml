<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<!-- Copyright ($Author: jacobsen $) 2008 -->
<!-- $Id: index.shtml,v 1.2 2011-02-11 17:57:34 jacobsen Exp $ -->
<title>JMRI: OpenLCB Support</title>

<!-- Style -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="stylesheet" TYPE="text/css" HREF="/css/default.css"
	MEDIA="screen">
<LINK REL="stylesheet" TYPE="text/css" HREF="/css/print.css"
	MEDIA="print">
<LINK REL="icon" HREF="/images/jmri.ico" TYPE="image/png">
<LINK REL="home" TITLE="Home" HREF="/">
<!-- /Style -->
</HEAD>

<BODY>
<!--#include virtual="/Header" -->
  <div class="nomenu" id="mBody">
    <div id="mainContent">

<h1> 
JMRI: OpenLCB Support
</h1>

<em>The support on this page is rapidly evolving; the
actual code might be ahead or behind the documentation
on any given day.</em><p>

JMRI provides support for general JMRI
<a href="../../../tools/Sensors.shtml">Sensors</a>
and
<a href="../../../tools/Turnouts.shtml">Turnouts</a>
in terms of OpenLCB "events". 

<p>
See also the 
<a href="../index.shtml">main help page</a> for JMRI CAN support,
including links to various general tools, and the
page on the 
<a href="Details.shtml">technical details</a>
of JMRI's OpenLCB support.

<h2>Naming</h2>

The <a href="../../../doc/Technical/Names.shtml">system letter</a> 
for OpenLCB connections is "M". OpenLCB 
event and object names are 
introduced below, with additional details and formats on a
<a href="Names.shtml">separate page</a>.

<p>
JMRI associates OpenLCB events with individual
JMRI objects (Sensors, Turnouts, etc) via the 
JMRI system names.  A system name like
"<code>MS1.2.3.4.5.6.7.8;1.2.3.4.5.6.7.9</code>"
defines a Sensor that follows the "1.2.3.4.5.6.7.8"
and "1.2.3.4.5.6.7.9" OpenLCB events
to change state. 
<p>
Another format for event IDs is a
continuous hexadecimal string, such as
"x0102030405060709".
<p>
These system names can get very long, in which
case the "user names" become much more useful. 

<h2>Sensors</h2>

OpenLCB messages coming into JMRI applications can be accessed 
via JMRI Sensor objects.  The Sensor's 
<a href="Names.shtml">system name</a>
determines which OpenLCB message(s) it corresponds to.

<p>
A sensor is defined by two events: The one that sets it ACTIVE, and
the one that sets it INACTIVE. The event numbers are essentially 
arbitrary, and must both be specified.
Because events are not intrinsically associated with specific hardware
objects, and because people can use event IDs in many ways, 
the specific event IDs for a sensor must be supplied.  
You create Sensors using the 
<a href="../../../../package/jmri/jmrit/beantable/SensorAddEdit.shtml">Add...</a>
button on the
<a href="../../../../package/jmri/jmrit/beantable/SensorTable.shtml">Sensor Table</a>.

<h2>Turnouts</h2>

(To be written, but the scheme is similar to Sensors above, 
except JMRI is emitting the OpenLCB frames instead of receiving them, and
the type letter is "T" instead of "S", e.g. <code>MT1.2.3.4.5.6.7.8;1.2.3.4.5.6.7.9</code>)

<!--#include virtual="/Footer" -->
</body>
</html>
