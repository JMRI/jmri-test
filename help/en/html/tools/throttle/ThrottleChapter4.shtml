<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: ThrottleChapter4.shtml,v 1.2 2008-03-08 17:52:53 dan_boudreau Exp $ -->
<html lang="en">
<head>
    <TITLE>
 	Throttle: Opening/Saving a Throttle Layout
    </TITLE>
    <META name="keywords" content="JMRI decoderpro dcc nmra throttlepro">
	<META NAME="Description" CONTENT="Throttle documentation for JMRI project">
	<META NAME="Keywords" CONTENT="JMRI">
	<META NAME="Author" CONTENT="Paul Fraker (paul@frakers.com)">
	<META NAME="Language" CONTENT="EN">
	<META NAME="Robots" CONTENT="Index, Follow">
	<META NAME="Revisit-After" CONTENT="7 Days">

    <!-- The combination of "Define" and {Header,Style, Logo and Footer} comments -->
    <!-- are an arbitrary design pattern used by the update.pl script to -->
    <!-- easily replace the common header/footer code for all the web pages -->

    <!-- delete the following 2 Defines if you want to use the default JMRI logo -->
    <!-- or change them to reflect your alternative logo -->

<!-- Style -->
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
<link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
<link rel="icon" href="/images/jmri.ico" TYPE="image/png">
<link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<body>
<!--#include virtual="/Header" -->

<!--#include virtual="Sidebar" -->
<div id="mainContent">


	    <H1>Saving a Throttle Layout</H1>
		<P>A new throttle window can be started and a DCC address established
		to run a train around a layout, and then close down the throttle
		window when done with it.  This of course loses the configuration
		that you established during this throttle session.  And this is fine
		if you are running a test of sorts on a loco that
		you have no intention of running by one of these computer throttles.
		Therefore, closing down the throttle window to eliminate it would
		suffice.</P>	
				
		<TABLE BORDER=0 WIDTH="100%" CELLPADDING=0 CELLSPACING=0>
			<TR>
				<TD width="90%" align="left" valign="top">
					<P>But what if you don't want to keep establishing a new
					throttle window each time for one or more locomotives that you intend
					on running from your computer?</P>
							
					<P>If you were following along in the 
					<A HREF="ThrottleChapter2.shtml">previous chapters</A>
					with building up a new throttle layout and got your train
					moving, then the next question that probably comes to
					your mind is, "how do I save it?"</P>
							
					<P>Following the directions provided in
					<A HREF="ThrottleChapter1.shtml#MainMenu">Chapter 1</A>
					for locating the Throttle Menu, locate the option
					that says "<STRONG>Save Throttle Layout</STRONG>" (see
					figure 4-1 on the right).  Clicking on this menu option
					will display a "<B>Save As</B>" dialog box
					see figure 4-2 below).</P>
							
				<TD width="1%">
					<IMG WIDTH="20" HEIGHT="20" SRC="images/spacer.gif" BORDER="0">
				</TD>
						
				<TD width="9%" align="center" valign="top">
				    <br>
					<P style="text-align: center; font-size: xx-small">
					<IMG WIDTH="163" HEIGHT="82" SRC="images/jmri006.jpg" BORDER="0" TITLE="Save Throttle Layout"><BR>
					Figure 4-1: Save Throttle Layout
					</P>
				</TD>
			</TR>
		</TABLE>

		<P style="text-align: center; font-size: xx-small">
		<IMG WIDTH="327" HEIGHT="272" SRC="images/jmri040.jpg" BORDER="0" TITLE="Save As Dialog"><BR>
		Figure 4-2: Save As Dialog
		</P>

		<P>By default, it should show the directory where your
		roster file is located.  You can save it to this
		directory if you wish, or you can save it to
		another location of your choosing.  
		For example, the figure on the
		right shows a "Throttles" folder (sub-directory) where all
		throttle layout files are saved.</P>
							
		<P>After entering a file name of your choosing 
		(and optional location)
		that best supports your railroad environment, the current
		throttle layout will be saved with all preferences —
		including window size and location.</P>
							
		<P>After the save is successful, you can close down the
		throttle window.</P>
							
		<P class="important">
		<B>Note:</B> &nbsp; the "Save" option will save <U>all</U> currently
		opened throttle windows — they are <U>not</U>
		saved as individual throttles.  This is explained in more detail below.
		</P>

						
		<BR><BR><BR>
				
		<A NAME="SaveMultiple"></A>
		<H2>Saving Multiple Throttle Windows</H2>
		<DIR>
			<P>The above instructions are pretty simple when working with a
			single throttle window.<P>  
					
			<P>But what happens when you have two or
			more throttle windows open at the same time?  When you use the save option,
			<U>all</U> opened throttle windows will be saved in the same file.  When
			that file is re-opened, all throttle windows identified in that file will
			get opened.</P>
					
			<P>This is important to understand — especially further along when 
			working with <A HREF="#Merging">merging multiple throttles</A>.</P>
					
			<TABLE BORDER=0 WIDTH="100%" CELLPADDING=0 CELLSPACING=0>
				<TR>
					<TD width="90%" valign="top">
						<P>In the previous chapter, a single throttle window was initiated.  And
						a simple "save" would certainly have saved just the single throttle window
						into a single layout file.  When the file is opened again, only the single
						throttle window would appear.</P>
					</TD>
							
					<TD width="1%">
						<IMG WIDTH="20" HEIGHT="20" SRC="images/spacer.gif" BORDER="0">
					</TD>
							
					<TD width="9%" align="center" valign="top">
						<P style="text-align: center; font-size: xx-small">
						<IMG WIDTH="309" HEIGHT="187" SRC="images/jmri036.jpg" BORDER="0" TITLE="Example of 2 active throttle windows"><BR>
						Figure 4-3: Two Active Throttle Windows
						</P>
					</TD>
				</TR>
				<TR>
					<TD width="100%" colspan="3" align="left" valign="top">
						<P>But what if we had opened and configured a second throttle
						window, while the first throttle window was still active on the screen?
						There would then be two active throttle windows that would be "saved" into
						the same layout file (see figure 4-3).
						Not only would the configuration of the throttles be saved, but also the exact
						screen sizing and locations of the two throttles.</P>
								
						<P>When the layout file is
						re-opened, both throttle windows would be opened and positioned on the computer
						screen in the exact place they were when the file was saved.</P>
					</TD>
				</TR>
			</TABLE>
		</DIR>

		<BR><BR><BR>
			
		<A NAME="LoadLayout"></A>
		<H1>Open/Load a Throttle Layout</H1>

		<P>After saving a throttle layout has been accomplished, you'll want to open the file again.
		This is a very simple procedure.  However, opening up a throttle layout file when one or
		more throttle windows are already active somewhere on the screen, requires an extra step.
		Before we discuss this extra step, let's first open a simple throttle layout file.</P>
				
		<P>If you were following the guidelines shown above for saving a throttle layout file, you
		should now have created your first throttle file.  If you haven't done so already, close
		down the throttle window that you created in the previous chapter (make sure you saved it
		first by following the above instructions).</P>
				
		<TABLE BORDER=0 WIDTH="100%" CELLPADDING=0 CELLSPACING=0>
			<TR>
				<TD width="90%" align="left" valign="top">
					<P>You shouldn't have any throttle windows open on your screen at this time.
					Following the directions provided in
					<A HREF="ThrottleChapter1.shtml#MainMenu">Chapter 1</A>
					for locating the Throttle Menu, locate the option
					that says "<STRONG>Load Throttle Layout</STRONG>" (see
					figure 4-4 on the right).  Clicking on this menu option
					will display an "<B>Open</B>" dialog box.  Locate the
					throttle layout file that you just previously saved and open it.</P>
				</TD>
						
				<TD width="1%">
					<IMG WIDTH="20" HEIGHT="20" SRC="images/spacer.gif" BORDER="0">
				</TD>
						
				<TD width="9%" align="center" valign="top">
					<P style="text-align: center; font-size: xx-small">
					<IMG WIDTH="163" HEIGHT="82" SRC="images/jmri007.jpg" BORDER="0" TITLE="Load throttle layout"><BR>
					Figure 4-4: Load Throttle Layout
					</P>
				</TD>
			</TR>
		</TABLE>

		<P>The throttle window that you just created should open up in the same place where
		you closed it.  At the same time that the window opens, it is also initializing the
		decoder address to the command station (just like when the address was first "Set").
		The throttle attempts to determine the current direction of the locomotive, as well
		as identify any functions that are in the "on" state.</P>

		<P class="important">
		<B>Note:</B> &nbsp; Because the JMRI Throttles are still in their "beta" development mode, there are still some
		quirks that need to be ironed out.  An example of this is when opening a throttle
		layout and the DCC address is already "in use" by another throttle.  Some systems
		(i.e. Digitrax) are reacting differently when this occurs.<BR><BR>  

		<B>Enhancement requests</B>
		are already on the list for the throttles to be "smart" in determining when another
		throttle already has the address.  But until these throttles are fully implemented, just
		beware that there may be quirks with your particular DCC system with this
		feature.  It is therefore suggested that <U>prior</U> to opening up a saved
		throttle layout file, the DCC address is verified as not being used
		by another throttle somewhere.
		</P>

		<BR><BR><BR>

		<A NAME="Merging"></A>
		<H2>Merging Throttle Windows</H2>
		<DIR>
			<P>Throttle layout files can consist of a single throttle window (to control a single
			locomotive or consist address), or it can contain multiple throttle windows (refer to
			figure 4-3).  In either case, when opening a throttle layout file, the program will check
			to see if any existing active throttle windows are already open.  If none are found,
			then the file is opened just like a simple layout opening (explained above).</P>

			<P style="text-align: center; font-size: xx-small">
			<IMG WIDTH="354" HEIGHT="125" SRC="images/jmri035.jpg" TITLE="Merge Dialog Box" BORDER="0"><BR>
			Figure 4-5: Merge Dialog Box
			</P>

			<P>However, when one or more throttle windows are discovered already open on
			the screen, the program will open up a dialog box as shown in figure 4-5
			on the right.</P>
								
			<UL>
				<LI><STRONG>Merge</STRONG> — leaves the currently active open throttle
				windows in place and opens the throttle(s) contained in the layout file
				being opened.<BR><BR>

				<LI><STRONG>Replace</STRONG> — closes down the currently active open
				throttle window(s) and opens up the throttle window(s) established in the
				saved layout file.<BR><BR>

				<LI><STRONG>Cancel</STRONG> — cancels the "open" request and closes
				down this dialog window.
			</UL>

			<BR><BR>

			<P class="important">
			<B>Note: Do not confuse the action that is occurring here with any attempts to overwrite your saved
			throttle layout files.  The above actions have no effect on the actual saved throttle layout
			files themselves.  The only "merging" and "replacing" that occurs is simply
			on your screen.</B>
			</P>

			<BR><BR>
		</DIR>

		<TABLE BORDER="2" WIDTH="100%" CELLPADDING="4" CELLSPACING="2" BORDERCOLOR="#0033FF">
			<TR>
				<TD valign="top">
					<CENTER>
					<STRONG>TIP!</STRONG>
					</CENTER>
								
					<P>When creating throttle layout files, you can save the same decoder address
					in multiple throttle layout files.  A good example of why you may want to do this 
					would be if you create several throttle layout files,
					each consisting of a single throttle window controlling one single locomotive —
					like one for each loco in your roster.  There may
					be times when you wish to just run a single locomotive and you just open up the associated layout file.  
					Simple!  But what if you find yourself opening up the same locomotive throttles consistently on each session.
					It's going to become a pain opening up (and "merging") these throttles one at a time.  
					Therefore, you could create another layout file that contains all of the throttle windows 
					that you wish; then just open up the one layout file and you'll
					have all of the throttle windows defined.</P>
								
					<P>Just remember, when making a change to the configuration
					of a throttle window, it only gets changed in the layout file that you saved — it is <U>not</U>
					a global change in every file where that locomotive is used.</P>
				</TD>
			</TR>
		</TABLE>

		<BR><BR><BR>
		
		<A NAME="CloseThrottle"></A>
		<H1>Closing a Throttle Window</H1>

		<P>When done with a throttle window, it might be a good idea if you get into the practice
		of either "releasing" or "dispatching" the locomotive before completely closing down
		the throttle window.</P>
				
		<P>If you have made any configuration changes to the throttle window, and you want to save them,
		you'll need to follow the steps as outlined above.</P>
				
		<P class="important">
		<B>Note:</B> &nbsp; If you "save" any changes that you have made during a session back to an existing throttle
		layout file, beware that <U>ALL</U> currently opened throttle windows will also be saved to
		the same file.
		</P>

		<P>When you are ready, simply close down the throttle window as you normally would on whatever
		computer system you use.  For example, for Microsoft Windows, simply click on the "<BIG>X</BIG>"
		in the upper right corner of the throttle window.</P> 

			
		<BR><BR><BR><BR>

		<TABLE BORDER="0" WIDTH="100%" CELLPADDING="0" CELLSPACING="0">
			<TR>
				<TD ALIGN="right" WIDTH="40%">
					<dt><A HREF="ThrottleChapter3.shtml" TITLE="Return to the previous chapter"><IMG width="18" height="18" src="images/LeftArrow2.jpg" border="0"></A></dt>
				</TD>
				<TD WIDTH="5%">
					<IMG border="0" src="images/spacer.gif" width="30" height="10">
				</TD>
				<TD ALIGN="center" WIDTH="10%">
					<B><A HREF="ThrottleTOC.shtml" TITLE="Jump to the Table Of Contents page">TOC</A></B>
				</TD>
				<TD WIDTH="5%">
					<IMG border="0" src="images/spacer.gif" width="30" height="10">
				</TD>
				<TD ALIGN="left" WIDTH="40%">
					&nbsp;
				</TD>
			</TR>
		</TABLE>
				
		<BR><BR><BR><BR>

<!--#include virtual="/Footer" -->
</body>
</html>
