<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: SensorAddEdit.shtml,v 1.7 2010-02-21 06:47:31 jacobsen Exp $ -->
<HTML LANG="en">
<HEAD>
<TITLE>JMRI: Adding/Editing Sensors</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META CONTENT="Bob Jacobsen" NAME="Author">
<META NAME="keywords" CONTENT="JMRI help Sensor Add Edit">

<!-- Style -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="stylesheet" TYPE="text/css" HREF="/css/default.css"
	MEDIA="screen">
<LINK REL="stylesheet" TYPE="text/css" HREF="/css/print.css"
	MEDIA="print">
<LINK REL="icon" HREF="/images/jmri.ico" TYPE="image/png">
<LINK REL="home" TITLE="Home" HREF="/">
<!-- /Style -->
</HEAD>

<BODY>
<!--#include virtual="/Header" -->
  <div class="nomenu" id="mBody">
    <div id="mainContent">

<H1>Adding/Editing Sensors</H1>

Enter the system name for the sensor you wish to add. For example, a
valid sensor system name for a LocoNet layout could be LS456. Another
example, a valid internal sensor system name could be IS123. The
optional user name can be anything you wish to describe the sensor. See
"<A HREF="../../../../html/doc/Technical/Names.shtml">Names</A>" 
help page for more information.

<H2>Hardware Specific Information</H2>

<H3>NCE AIU Number to JMRI Sensor Mapping</H3>
The NCE Axiliary Input Unit or AIU allows the NCE command station to check the status of
inputs from the layout. These are referenced in JMRI as sensors with
names like "NS785". "NS" means "NCE Sensor", and 785 is the number of a
specific sensor input.
<P>The sensor number can be found by using the following formula:</P>
<P>Sensor ID = (AIU Cab Address - 1) * 16 + (Pin Number On AIU) -1</P>
<P>For example: The AIU cab address is set to 50 and one of the
BD20s is connected to pin 2. Therefore the Sensor ID would be:</P>
<P>Sensor ID = (50 - 1) * 16 + (2) -1</P>
<P>Sensor ID = 785 
<!--#include virtual="/Footer" --></P></P>

<H3>Grapevine Sensor to JMRI Sensor Mapping</H3>

There are three separate types of Grapevine sensors:
<dl>
<dt>Advanced Serial Detectors</dt>
<dd>
Up to three Advanced Serial Detector boards can be attached to
a Grapevine node.  Each provides eight occupancy detectors, and
associates a motion detector with each of those.
<table>
<tr><th>Board</th><th>Occupancy</th><th>Motion</th></tr>
<tr><td>Master</td> <td>1-8</td>  <td>9-16</td></tr>
<tr><td>Slave 1</td><td>17-24</td><td>25-32</td></tr>
<tr><td>Slave 2</td><td>33-40</td><td>41-48</td></tr>
</table>
</dd>
<dt>Original Serial Sensors</dt>
<dd>
Occupancy sensors on the original serial boards replace 
sensors attached through advanced boards at addresses 1 to 8.
There are no motion sensors in this case.
</dd>
<dt>Parallel Sensors</dt>
<dd>The parallel sensors, connectors on the Grapevine node 
itself, appear as JMRI sensors 101 to 108 on the node.
If the optional second bank of serial sensors are present,
they appear as sensors 109 to 116 on the node.
</dd>
</dl>
<!--#include virtual="/Footer" -->
</BODY>
</HTML>

