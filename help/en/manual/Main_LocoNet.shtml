<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: Main_LocoNet.shtml,v 1.1 2009-02-22 09:16:46 jacobsen Exp $ -->
<html lang="en">
<head>
<TITLE>
DecoderPro&reg; Main Window
</TITLE>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="Author" content="Joseph A. Ellis - TesserAct Studios">
<meta name="GENERATOR" content="Mozilla/4.5 (Macintosh; U; PPC) [Netscape]">
<meta name="Revised_By" content="Bob Blackwell - afticarr@sympatico.ca">
<meta name="Revised_By" content="Dale Tripp">
<meta name="Revised_By" content="Bruce Shanks">
<meta name="keywords" content="JMRI manual">

    <!-- The combination of "Define" and {Header,Style, Logo and Footer} comments -->
    <!-- are an arbitrary design pattern used by the update.pl script to -->
    <!-- easily replace the common header/footer code for all the web pages -->

    <!-- delete the following 2 Defines if you want to use the default JMRI logo -->
    <!-- or change them to reflect your alternative logo -->

<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<!--#include virtual="/Header" -->
<!--#include virtual="Sidebar" -->

<div id="mainContent">


<h1>DecoderPro&reg; Main Window</h1>
<h1>LocoNet Menu </h1>

<div align=right>
<p><a href="Main_Menu.shtml#System">Back to Index</a></p>
</div>

<hr>
<p><strong>Monitor LocoNet</strong></p>
<p>Opens the <a href="http://www.daletripp.com/DecoderProManual2-4/Main_Monitor_Window.shtml">Communications  Monitor Window</a> and automatically displays the information that is being sent and  received on the communications link between your computer and your DCC  system.</p>
<p><strong><a name="Slots"></a>Monitor Slots</strong></p>
<p>Opens the <a href="#SlotMonitor">Slot Monitor </a>window, and displays a table of the &quot;command station slots&quot; contents.</p>
<p><strong><a name="Clock"></a>Monitor Clock</strong></p>
<p>A Digitrax LocoNet can contain it's own fast clock timebase.  This can be driven either by a DCS100/DCS200 command station, or by  a separate fast clock module such as those made by Logic Rail Technologies. The <a href="#ClockMonitor">LocoNet Clock Monitor</a> dialog allows you to control this feature.</p>
<p><strong>Monitor LocoNet Stats</strong></p>
<p>If active displays the statistics related to traffic on the LocoNet.</p>
<p><img src="images/separator.png" alt="sep" width="340" height="4"></p>
<p><strong><a name="BDL16"></a>Configure BDL16</strong></p>
<p>Opens <a href="#BDL16Programmer">BDL 16 Programmer </a>.</p>
<p><strong><a name="LocoIO"></a>Configure LocoIO</strong></p>
<p>Opens the <a href="#LocoIOProgrammer">LocoIO programmer </a>window.</p>
<p><strong><a name="PM4"></a>Configure PM4</strong></p>
<p>Opens the <a href="#PM4">PM4 programmer</a> window.</p>
<p><strong><a name="SE8C"></a>Configure SE8C</strong></p>
<p>Opens the <a href="#SE8CProgrammer">SE3C programmer</a> window.</p>
<p><strong><a name="DS64"></a>Configure DS64</strong></p>
<p>Opens the <a href="#DS64Programmer">DS64 programmer </a>window.</p>
<p><strong><a name="CommandStation"></a>Configure Command Station</strong></p>
<p>Opens the DCS100(Chief) Programmeer</p>
<p><strong>Configure LocoNet ID</strong></p>
<p>Opens the Set LocoNet ID dialog that allows you to 
  <input type="submit" name="button5" id="button5" value="Read"> 
  or 
  <input type="submit" name="button6" id="button6" value="Set"> 
  the LocoNet ID <strong>Value:</strong></p>
<p><img src="images/Main_Loconet08.png" alt="LocoNet ID" width="195" height="123" border="4"></p>
<p><img src="images/separator.png" alt="sep" width="340" height="4"></p>
<p><strong>Start LocoNet Server</strong></p>
<p>Starts the LocoNet server.</p>
<p><strong>Start LocoNet over TCP Server</strong></p>
<p>Opens the <strong>LocoNetOver Tcp Server</strong> dialog.</p>
<p><img src="images/Main_Loconet09.png" alt="LocoNet server" width="361" height="120" border="4"></p>
<p><img src="images/separator.png" alt="sep" width="340" height="4"></p>
<p><strong>Send Throttle Messages</strong></p>
<p>Opens <strong>Throttle message</strong> prompt with limited capabiltiy to send messages to handheld throttle.</p>
<p><img src="images/Main_Loconet10.png" alt="Send Throttle" width="223" height="97" border="4"></p>
<p><strong><a name="Packet"></a>Send LocoNet Packet</strong></p>
<p>Opens the <a href="#SendPacket">Send LocoNet Packet</a> dialog that lets you directly command LocoNet devices.</p>
<p><strong><a name="Firmware"></a>Download Firmware</strong></p>
<p>Opens the Firmware Downloader.</p>
<p><strong><a name="Sounds"></a>Download Sounds</strong></p>
<p>Opens the <a href="#SoundDownloader">Decoder Sound Downloader</a>.</p>
<p><strong>Edit SPJ Sound</strong> <strong>File</strong></p>
<p>Opens Sound File editing tool.</p>
<p><img src="images/separator.png" alt="sep" width="340" height="4"></p>
<p><strong>Select PR3 Mode</strong></p>
<p>Open the Select PR3 Mode dialog.</p>
<hr>

<h4><a name="SlotMonitor"></a>LocoNet Slot Monitor Window</h4>
<p>Slots are used to control individual locomotive and consists. The display includes the decoder's speed step format, current speed and function settings, consist information and status. You may choose to show all slots or just the ones being actively used.</p>
<p align="center"><img src="images/Main_Loconet01.png" alt="Slot Monitor" width="972" height="227" border="4"></p>
<p>The checkboxes at the top allow to select what slots are displayed.</p>
<p>
  <input type="checkbox" name="checkbox" id="checkbox"> 
  <strong>Show unused slots</strong></p>
<p>
  <input type="checkbox" name="checkbox2" id="checkbox2"> 
  <strong>Show system slots</strong></p>
<p><strong>
  <input type="submit" name="button" id="button" value="estop all"> 
  </strong>Executes an <strong>Emergency Stop </strong>for all locomotives.</p>
<p>The columns are:</p>
<table width="90%" border="1" align="center" cellpadding="1" cellspacing="1">
  <tr>
    <td width="18%"><strong>Column</strong></td>
    <td width="82%" colspan="2"><strong>Displays</strong></td>
  </tr>
  <tr>
    <td>Slot</td>
    <td colspan="2">The number of the slot</td>
  </tr>
  <tr>
    <td>Address</td>
    <td colspan="2">Locomotive address the slot controls</td>
  </tr>
  <tr>
    <td>Speed</td>
    <td colspan="2">For unconsisted locomotives and addresses that are at the top of a consist, this is the current speed setting. It is an internal value for consisted slots.</td>
  </tr>
  <tr>
    <td>Decoder Type</td>
    <td colspan="2">The format of the commands being sent to the decoder, typically, either 128 step or 28 step, though other values are possible.</td>
  </tr>
  <tr>
    <td rowspan="5" valign="top">Status</td>
    <td colspan="2">One of the four possible states:</td>
  </tr>
  <tr>
    <td>Free</td>
    <td>Not reserved for any particular use, no contents</td>
  </tr>
  <tr>
    <td>Idle</td>
    <td>Not reserved for any particular use, no contents</td>
  </tr>
  <tr>
    <td>Common</td>
    <td>Not in use at the moment, but still contains valid data for the last decoder to use it.</td>
  </tr>
  <tr>
    <td>In Use</td>
    <td>Currently controlling a decoder</td>
  </tr>
  <tr>
    <td>Consisted</td>
    <td colspan="2">Displays the consist status of the slot, whether it is not consisted, the top of a consist, included in a consist, etc.</td>
  </tr>
  <tr>
    <td>Throttle ID</td>
    <td colspan="2">The UT4 throttles have a fixed throttle ID. The DT400 has a fixed common leading HEX value and a user programmable second HEX value. . It is displayed as two hexadecimal bytes, see the Digitrax instructions for details.</td>
  </tr>
  <tr>
    <td>Direction</td>
    <td colspan="2">Whether the decoder is currently being commanded to go Forward or Reverse.</td>
  </tr>
  <tr>
    <td>F0-F8</td>
    <td colspan="2">The current function settings</td>
  </tr>
</table>
<div>
  <div align="right"><a href="#Slots">Back</a></div>
</div>
<h4> <a name="ClockMonitor"></a>LocoNet Fast Clock Monitor</h4>
<p><img src="images/Main_Loconet02.png" alt="Loconet clock monitor" width="258" height="145" border="4"></p>
<p>The <strong>LocoNet clock monitor</strong> tool  provides a   convenient way to: </p>
<ul>
  <li>
    <input type="submit" name="button2" id="button2" value="Read">
  the current contents of the LocoNet fast clock </li>
  <li>Set the <strong>Day</strong> and <strong>Time</strong> </li>
  <li>Set the <strong>Rate</strong>. Note that you can't explicitly pause a LocoNet clock, but you can stop  it by setting the rate to zero. </li>
</ul>
<p>If you are using a DCS100 or DCS200 command station to create your  LocoNet fast clock, you may have noticed that it doesn't keep particularly  good time.  If you select the "Correct LocoNet Fast Clock Master",   JMRI will adjust the rate of the LocoNet clock so that it keeps better time. </p>
<div>
  <div align="right"><a href="#Clock">Back</a></div>
</div>
<h4><a name="BDL16Programmer"></a>BDL 16 Programmer window</h4>
<p><img src="images/Main_Loconet03.png" alt="BDL 16" width="447" height="628" border="4"></p>
<div>
  <div align="right"><a href="#BDL16">Back</a></div>
</div>
<h4><a name="LocoIOProgrammer"></a>LocoIO programmer window</h4>
<p><img src="images/Main_Loconet04.png" alt="LocoNet IO programmer" width="693" height="518" border="4"></p>
<div>
  <div align="right"><a href="#BDL16">Back</a></div>
</div>

<h4><a name="PM4Programmer"></a>PM4 Programmer Window</h4>
<p><img src="images/Main_Loconet05.png" alt="PM4 programmer" width="416" height="289" border="4"></p>
<div>
  <div align="right"><a href="#PM4">Back</a></div>
</div>
<h4><a name="SE8CProgrammer"></a>SE8C Programmer Window</h4>
<p><img src="images/Main_Loconet06.png" alt="SE8C programmer" width="411" height="506" border="4"></p>
<div>
  <div align="right"><a href="#SE8C">Back</a></div>
</div>
<h4><a name="DS64Programmer"></a>DS64 Programmer Window</h4>
<p>The DS64 programming tool lets you configure   the internal options of a DS64 directly from your computer. </p>
<p>Type  the address of a DS64 board in the text field  and click 
  <input type="submit" name="button3" id="button3" value="Read from DS64">
.  The tool will read back the current  state of the various options, and set the check boxes to correspond to   their current values. </p>
<p> You can then, if you wish, change the checkboxes and click 
  <input type="submit" name="button4" id="button4" value="Write to DS64">   
to make your changes permanent. </p>
<h4>Limitations</h4>
Because of the way the DS64 board works, this tool can't change  the basic address of the unit.
<p> At present, DS64 routes cannot be programmed by this tool.  It's possible,  but nobody has written the code for it yet because JMRI routes are more   powerful and easier to use. </p>
<p><img src="images/Main_Loconet07.png" alt="DS64 Programmer" width="466" height="624" border="4"></p>
<div>
  <div align="right"><a href="#DS64">Back</a></div>
</div>
<h4><a name="SendPacket"></a>Send LocoNet Packet dialog</h4>
<p><img src="images/Main_Loconet11.png" alt="Send packet" width="468" height="311" border="4"></p>
<p>LocoNet packets are sent in raw hexadecimal format, you may use the <a href="Main_Monitor_Window.shtml">Monitor Window</a> in the <strong>Show Raw Data</strong> option to monitor the packets.</p>
<p>The top section lets you send a single LocoNet packet. Type the hexidecimal numbers and click 
  <input type="submit" name="button7" id="button7" value="Send"> 
, you should include the byte for the  checksum at the end of the message.</p>
<p>The bottom section lets you enter from one to four packets that will be repeatedly sent in sequence, with the user-defined delays in between. Press the 
  <input type="submit" name="button8" id="button8" value="Go"> 
  to start transmission sequence, and press again to stop the sequence.
</p>
<div>
  <p><a href="#Packet">Back</a></p>
</div>
<h4><a name="FirmwareDownloader"></a>Firmware Downloader</h4>
<p>Some Digitrax products can have new firmware downloaded to them.The firmware updates are distributed as .dml (Digitrax Mangled Firmware) files. They contain both the code itself, and various management information to make sure that it can be downloaded into the hardware it expects.</p>
<p><img src="images/Main_Loconet12.png" alt="firmware downloader" width="425" height="473"></p>
<p>To use this tool:</p>
<ul>
  <li>Click 
    <input type="submit" name="button9" id="button9" value="Select"> 
    and select the .dmf file you want to download.<br>
    <br>
</li>
  <li>Click 
    <input type="submit" name="button10" id="button10" value="Read file">
  to read the file into the program and verify its contents.</li>
  <li>Only if instructed to by Digitrax, change the various values in the control fields (this is usually not needed</li>
  <li>Click 
    <input type="submit" name="button11" id="button11" value="Download">
    to load the firmware. This will take a little while.</li>
</ul>
<div><a href="#Firmware">Back</a></div>
<h4><a name="SoundDownloader"></a>Decoder Sound Downloader</h4>
<p><img src="images/Main_Loconet13.png" alt="Sound Download" width="436" height="232"></p>
<p>Digitrax sound decoders are loaded with "sound projects", stored in  "Sound Project" (.spj) files.  Those contain a number of "sound fragments"  in .wav format, plus some additional control information. </p>
<p> The Decoder Sound Downloader tool lets you load a new .spj file into   a Digitrax sound decoder via a Digitrax PR2 or PR3 interface. If you're   using a PR3, it needs to be put into "Programmer mode" before   trying to download, see the main <a href="http://jmri.sourceforge.net/help/en/html/hardware/loconet/PR3.shtml">PR3 page</a>. </p>
<p> Digitrax provides sample sound project files at their Sound Depot <a href="http://www.digitrax.com/sounddepot.php">(http://www.digitrax.com/sounddepot.php)</a> web site. You can also find links to documentation and additional tools there. </p>
<p> JMRI also provides tools for <a href="http://jmri.sourceforge.net/help/en/package/jmri/jmrix/loconet/soundloader/EditorFrame.shtml">editing sound project files</a> to include new sounds and even to <a href="http://jmri.sourceforge.net/help/en/package/jmri/jmrix/loconet/sdfeditor/EditorFrame.shtml">change the sound logic</a>. When you first select the Download Sounds tool, it opens a dialog  with most of the controls disabled:<br>
  <br>
(Click on any image on this page to see a larger version)</p>
<p> The status line at the bottom will walk you through the steps needed. </p>
<ol>
  <li>First, click "Select" and pick the .spj file you want to download. </li>
  <li>Next, click "Read" to read the file (this is a separate step  so you can just click "Read" multiple times if you're editing and saving  new versions of the file).
    <p> If everything is OK, the file will be read into the program and verified,  a version string from the file will be displayed, and the "Download" button  will be enabled.
    </p>
  </li>
  <li>Click "Download" to start the download process. It will take a little  while. The progress is described in the status line:
    <dl>
        <dt>"Starting download; erase flash"</dt>
      <dd>The first step is to erase          the decoders memory so it can take new data.  This will take           up to about 30 seconds, depending on the specific decoder. </dd>
      <dt>"Sending initialization message"</dt>
      <dd>Set up the decoder to accept data          after being erased.  This should only take a fraction of a second. </dd>
      <dt>"Send SDF data"</dt>
      <dd>Load the Sound Definition data into the decoder, which          should only take a few seconds </dd>
      <dt>"Send WAV data"</dt>
      <dd>The sound data is being downloaded.  As          each block is sent you'll get an update:  "Send WAV data block 1", then          2, then 3, etc. </dd>
      <dt>"Done"</dt>
      <dd>The downloadload completed OK. </dd>
    </dl>
    If something goes wrong, the final status will be "Download aborted".      The most common reason is that the PR2 couldn't handle the data that was      being send, which is listed as "PR2 not ready".  If this happens repeatedly,      make sure that the serial port and cable that the PR2 is using as the control      lea</li>
</ol>
<div>
  <div align="right"><a href="#Sounds">Back</a></div>
</div>
<p>&nbsp; </p>
<hr>

<div align=right>
<p><a href="Main_Menu.shtml#System">Back to Index</a></p>
</div>

<!--#include virtual="/Footer" -->
</body>
</html>
