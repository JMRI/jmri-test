<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: MacOSX.html,v 1.42 2011-06-21 18:37:29 matthewharris Exp $ -->
<html lang="en">
<head>
 <TITLE>
 JMRI: Mac OS X Install Guide 
 </TITLE>
<!-- Style -->
  <META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
  <link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
  <link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
  <link rel="icon" href="/images/jmri.ico" type="image/png">
  <link rel="home" title="Home" href="/">
<!-- /Style -->

    <META content="Bob Jacobsen" name=Author>
    <META name="keywords" content="java model railroad JMRI install MacOSX Mac OS X">

</head>

<body>
<div id="container">
  <p class="skipLink"><a href="#mainContent" accesskey="2">Skip to main content</a></p>
<!-- Header -->
    <div id="header">
        <!-- Logo -->
        <a href="/" title="Return to home page" accesskey="1">
            <img src="/images/logo-jmri.gif" width="160" height="135" alt="JMRI Logo"> </a>
        <!-- /Logo -->
        <ul id="mainNav"> <!-- Top tool bar -->
           <li><a href="/download/"  title="Get the latest software">Download</a></li>
           <li><a href="/help/en/html/apps/index.shtml"      title="Learn about JMRI applications">Applications</a></li>
           <li><a href="/help/en/html/hardware/index.shtml"  title="What hardware does JMRI support">Hardware</a></li>
           <li><a href="/help/en/manual/index.shtml"   title="Trouble-shooting, and FAQs">Manual</a></li>
           <li><a href="/help/en/html/doc/Technical/index.shtml" title="Developing and extending JMRI">Developers</a></li>
           <li><A href="/community/" title="Who is JMRI">Acknowledgements</a></li>
        </ul>

        <div id="searchform"> <!--  Search Form -->
          <form id="search" method="get" action="http://www.google.com/search">
             <label for="q" title="Search JMRI.org">search JMRI: </label>
            <input type="hidden" name="sitesearch" value="jmri.org">
            <input type="text" id="q" name="q" accesskey="s" size="30">
            <input type="submit" id="submit" value="go">
          </form>
       </div> <!--  End #searchform -->
    </div> <!-- closes #header-->
<!-- /Header -->



  <div class="nomenu" id="mBody">
    <div id="mainContent">
      <h1> 
      JMRI Install Guide: Mac OS X
      </h1>

      <p>These directions are for installing the latest production
      release (2.10.<i>x</i>) of JMRI.</p>

      <p>If you need to install an earlier release (such as 2.8, or
      perhaps even earlier), please see these <a
       href="MacOSXRetro.html">instructions for old JMRI
      releases</a>.</p>

      <p>Now, on to the show:</p>

      <h2>Installing JMRI on to your Mac OS X computer</h2>

      <ol>
       <li>Determine if your system software is up to date</li>

            <p>Mac OS X version 10.4 "Tiger" or later is required for JMRI version 2.4
            or later because those JMRI versions require Java 1.5.
            There's an Apple web page that lists the computers that are
            <a href="http://support.apple.com/kb/HT1514?viewlocale=en_US">able to run Mac OS X 10.4</a>
            If you're still running Mac OS X 10.3 "Panther", you can download and use
            <a href="http://jmri.sourceforge.net/releasenotes/jmri2.2.shtml">JMRI version 2.2</a>.
            <p>
            You should have enough memory for your computer to run well, but you don't need
            any more than that.</p>

            <p>The install will take up about 100MB of disk space, mostly for the help pages.
        
        <li>Determine if you have the needed hardware support.
                
            <p>No Macintosh that runs Mac OS X has built-in serial
            ports, so if your hardware needs a serial connection,
            you'll have to use a USB to serial adapter.</p>

            <p>No matter if you have a USB to serial adapter, or a device with
            USB directly, you will need Mac OS X drivers for the hardware you're using.
            If you're using Mac OS X 10.4 or later, most hardware won't need a separate driver;
            they're already present in Mac OS X.  In some cases you will need a driver, though, 
            so check the manufacturer's web site to make sure.</p>
          
            <p>
            We test using a Keyspan PDA Adapter; those drivers are available at
            <a href="http://www.keyspan.com/downloads/">
            http://www.keyspan.com/downloads/</a>. Some device drivers will list
            each port under several names, e.g. starting with "/dev/tty" or
            "/dev/cu", for example "/dev/tty.KeyUSA19181.1". In that case, you
            must select the one that starts with "cu", e.g.
            "/dev/cu.KeyUSA19181.1".</p>
              
            <p>There's a Mac OS X driver for USB-serial adapters
            based on the Prolific PL2303 chipset 
            <a href="http://osx-pl2303.sourceforge.net/">available here</a>.
            If you can't access your USB dongle and it seems to use that
            chipset (you can check in the USB tab of System Profiler), 
            this driver will make it available as /dev/cu.PL2303-xxx.</p>
             
            <p>Note that because of baud rate limitations in Mac OS X
            itself, it is <b>not</b> possible to use a Digitrax MS100
            currently.  Use a <a
             href="http://rrcirkits.com/">RR-CirKits
            LocoBuffer-USB</a> or <a
             href="http://www.digitrax.com/prd_compint_pr3.php">Digitrax
            PR3</a> instead.  Please see our page on <A
             HREF="/help/en/html/hardware/USBtoSerial.shtml">USB
            adapters</a> for more information.</p>

        <!-- remove this step when 2.12 comes out - then the "most
        recent production release" will not have needed separate RXTX
        libraries -->
        
        <li>Remove any old serial communications libraries</li>

	<p>If you are installing JMRI for the first time, please skip
	to the next numbered step.</p>

	<p>Versions of JMRI before 2.9.2 required that you install
     communications libraries on your computer.  If you are using
     JMRI 2.9.2 or later, you do not need these libraries anymore.</p>
    
	<p>You need to remove the communications library files that were 
     installed earlier.  To do this, locate and delete these files:<br><br>

	 <tt>/Library/Java/Extensions/RXTXcomm.jar</tt><br>
         <tt>/Library/Java/Extensions/comm.jar</tt><br>
         <tt>/Library/Java/Extensions/librxtxSerial.jnilib</tt><br>
         <tt>/System/Library/Frameworks/JavaVM.framework/Versions/1.4/Home/lib/javax.comm.properties</tt><br>
         <tt>/System/Library/Frameworks/JavaVM.framework/Versions/CurrentJDK/Home/lib/javax.comm.properties</tt><br>
	
	<p>Using the Finder, the sequence is:
	    <ul>
	       <li>Click on the icon for your computer's hard disk
	       <li>Click on the "Library" icon
	       <li>Click on the "Java" icon
	       <li>Click on the "Extensions" icon
	       <li>If there's an <tt>RXTXcomm.jar</tt>, <tt>comm.jar</tt>, or <tt>librxtxSerial.jnilib</tt>
		  file, drag it to the Trash.
	    </ul>

	    <br>and<br>

	    <ul>
		<li>Click on the icon for your computer's hard disk
		<li>Click on the "System" icon
		<li>Click on the "Library" icon
		<li>Click on the "Frameworks" icon
		<li>Click on the "JavaVM.framework" icon
		<li>Click on the "Versions" icon
		<li>Click on the "1.4" icon
		<li>Click on the "Home" icon
		<li>Click on the "lib" icon
		<li>If there's a <tt>javax.comm.properties</tt> file, drag it to the Trash.
	    </ul>

	    <br>then just repeat that last sequence with "CurrentJDK" in place of "1.4".</p>

	    <p>If one of those files or directories isn't present, just skip the step.</p>
    
       <li>Get the JMRI software...</li>

        <p><a href="../download/index.html#prod-rel">Download</a> a
        version of JMRI, either the latest production version, or a
        "test version".  Since the version numbers change with every
        release, <a href="../download/index.html">this link</a> takes
        you to the general JMRI download page, where you can select
        whichever version you like.</p>

        <p>The JMRI project is continuously adding features, bug
        fixes, examples and tutorials to the release, and so a new
        "test" version appears every month or so.  You may find one of
        these has features that you really want.  These are announced
        in the "jmriusers" Yahoo discussion group at <a
         href="http://groups.yahoo.com/group/jmriusers/">http://groups.yahoo.com/group/jmriusers/</a>.
        </p>

       <li>...and install it.</li>

        <p>Normally, the download will open a new window showing a
        JMRI folder.  If not, double-click the file you downloaded
        above.  This will open a window with the "JMRI" folder.</p>
        
        <p>To install, you just have to move the JMRI folder to where
        you want it on your computer. Many people put it in
        "Applications", which is the standard location for this.  To
        do that, just drag the JMRI folder onto the "Applications"
        icon.  If you want to keep it somewhere else, just drag the
        folder to the desired location.</p>

      <li>Congratulations!  Installation is complete.</li>

      </ol>
      <h2>Configuring your JMRI setup</h2>
      
      <p>Connect your computer system to your <a
         href="../help/en/html/hardware/index.shtml">command station
        hardware</a>.

      <p>You can run the program by double-clicking on the
        "DecoderPro" or "PanelPro" or other application icons in the
        JMRI folder.

       <p>
       Your next step will be to set the preferences for your particular layout connection.

       <p> Mac OS X uses names like "<tt>/dev/cu.SomeName</tt>" and
       "<tt>/dev/tty.SomeName</tt>" for devices, including
       USB-attached devices like USB-serial converters,
       LocoBuffer-USBs and similar.  Generally, you'll want to use the
       one that starts with "<tt>/dev/cu</tt>" if it's present, but
       see the specific installation page for your particular type of
       device.  Sometimes you can recognize your interface from the
       right-hand part of the name.  If not, the easiest way to find
       the name for your interface is to disconnect it, start JMRI,
       write down the list of available devices, close JMRI, reconnect
       the interface, start JMRI again, and look to see which extra
       name has appeared.  That's the name one you want.</p>


<h2>Problem Solving</h2>

JMRI supports many different Mac computers, 
with several different kinds of processors,
multiple Mac OS X versions,
and various layout hardware.  
Some combinations can cause trouble. 
This section gives some debugging hints.

<h4>Communications and Mac OS X 10.4</h4>

Mac OS X 10.4 was a transitional version, with lots of 
different structures in it depending on the subversion (10.4.1 vs 10.4.2 vs 10.4.3).
Certain combinations of subversion and processor cause aren't properly 
handled by the standard libraries distributed with JMRI.
<p>
We handle this by making available some alternative libraries, at least
one of which is going to make JMRI work.
<p>
If you've got Mac OS X 10.4 and are having a problem either getting JMRI
to start, or seeing the attached layout hardware from within the program, 
please see this 
<a href="http://groups.yahoo.com/group/jmriusers/message/61242">description of how to debug this</a>.


<h2>Customizing Your JMRI Installation</h2>

You might want to have more than one configuration for DecoderPro
or PanelPro preset.  For example, you might to sometimes connect
PanelPro to the command station on your layout, or other times 
have a configuration that doesn't use a layout connection so you can 
work with the program on a laptop away from the layout.

<p>
With Mac OS X, JMRI makes this easy to do.  PanelPro and DecoderPro save
their preferences separately, so they can be configured independently.

<p>
On a Mac, the different preferences files take their name from the name of the application icon that's invoked.
This lets you create multiple copies of e.g. DecoderPro that each use their own, separate preferences files.
Let's say you want one called "CoolNewOne".  
<ul>
<li>Duplicate the DecoderPro application icon (ctrl-click to get a popup menu and say duplicate, 
or select the icon and choose duplicate from the File menu in Finder).
<li>Change the duplicate's name.
(It's probably better to use a simple one-word name like "CoolNewOne")
<li>Double click your new icon, and off you go.  
</ul>

It won't work to drag one of the JMRI application icons out of the 
JMRI folder, since they need the other files that can be found there.
If you want an icon in some other place, like on your desktop:

<ul>
<li>Go to the JMRI folder and select the application icon.
<li>From the file menu, select "Make Alias"
<li>Drag that new alias icon to it's new location, and optionally rename it.
</ul>

Note that renaming the alias alone does not cause the application icon to be renamed, so the alias will be using the
same preferences as the original.

      <hr class="hide">
<!-- Footer -->
    <hr class="hide">
    <div id="footer">
        <ul id="bn">
        <li><a href="/contact/">Contact Us</a></li>
        </ul>

        <p>Thanks and congratulations to
           <A href="/community/" title="Who is JMRI">
                all who contributed</A>! </p>

        <p>Copyright &copy; 1997 - 2010 JMRI Community. 
        <P>JMRI, DecoderPro, PanelPro, DispatcherPro and associated logos are our trademarks.
        <P><A href="/Copyright.html">Additional information on copyright, trademarks and licenses is linked here.</a></p>
    
       <BR/>Site hosted by: <BR/>
<a href="http://sourceforge.net/projects/jmri"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=26788&type=12" width="120" height="30" border="0" alt="Get JMRI Model Railroad Interface at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>
    </div>
<!-- /Footer -->

   </div><!-- closes #mainContent-->
  </div> <!-- closes #mBody-->
</div> <!-- closes #container -->
</body>
</html>

