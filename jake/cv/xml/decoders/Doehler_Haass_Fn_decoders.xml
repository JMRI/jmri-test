<?xml version="1.0" encoding="ISO-8859-1"?>
<?xml-stylesheet type="text/xsl" href="../XSLT/decoder.xsl"?>
<!-- Copyright (C) JMRI 2006 All rights reserved -->
<!--                                                                        -->
<!-- JMRI is free software; you can redistribute it and/or modify it under  -->
<!-- the terms of version 2 of the GNU General Public License as published  -->
<!-- by the Free Software Foundation. See the "COPYING" file for a copy     -->
<!-- of this license.                                                       -->
<!--                                                                        -->
<!-- JMRI is distributed in the hope that it will be useful, but WITHOUT    -->
<!-- ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or  -->
<!-- FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License  -->
<!-- for more details.                                                      -->
<decoder-config xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" showEmptyPanes="no" xsi:noNamespaceSchemaLocation="http://jmri.org/xml/schema/decoder.xsd">
  <version version="1" author="PB, pierre.bln@me.com" lastUpdated="20130731"/>
  <!-- 1 2013/07/31 Creation 
		First decoder template for the Doehler & Haass decoder range.
		This FUNCTION decoder file creates the corresponding family, and 
		includes all decoders defs & specs. 
		It requires variables and panes as defined in the doehler_hass/ folder.
  -->
  <decoder>
    <family name="Function decoders (DCC/SX/DC)" mfg="Doehler und Haass">
      <!-- PB: Note about functions: bits 6 & 7 control special light FX for all decoders.
	  They are considered as Out 7 and Out 8 so they must appear in the mapping table (cleaner UI)
	  All decoders are set to have 8 outputs. Filtering of absent Outputs is done
	  with the 'exclude' option on a per Output/decoder basis for Outputs 4,5,6
	  (the 'minOut' filter is therefore NOT used ).
       -->
      <model model="FH05A" numOuts="8" numFns="14" productID="FH05A" comment="FH05A-0 / FH05A-1 / FH05A-3" maxInputVolts="30V" maxTotalCurrent="0.5A" connector="NEM651">
        <output name="1" label="Front Light" maxcurrent="150mA"/>
		<output name="2" label="Rear Light" maxcurrent="150mA"/>
		<output name="3" label="AUX 1" maxcurrent="300mA"/>
		<output name="4" label="AUX 2" maxcurrent="300mA"/>
		<output name="7" label="Dimmed headlights"/>
		<output name="8" label="Shunting headlights"/>
        <size length="13.7" width="7.8" height="1.5" units="mm"/>
		<protocols>
            <protocol>dcc</protocol>
            <protocol>selectrix</protocol>
        </protocols>
      </model>
    </family>
    <programming direct="yes" paged="yes" register="yes" ops="yes"/>
    <variables>
		<!-- Analog functions  -->
		<xi:include href="http://jmri.org/xml/decoders/nmra/cv29analog.xml"/>
		<xi:include href="http://jmri.org/xml/decoders/nmra/analogModeFunction.xml"/>
		<xi:include href="http://jmri.org/xml/decoders/doehler_haass/CV14_analogModeFunction.xml"/>
        <!-- Calls to std NMRA templates   -->
        <xi:include href="http://jmri.org/xml/decoders/nmra/shortAndLongAddress.xml"/>
        <xi:include href="http://jmri.org/xml/decoders/nmra/cv29speedSteps.xml"/>
        <xi:include href="http://jmri.org/xml/decoders/nmra/cv29direction.xml"/>
        <xi:include href="http://jmri.org/xml/decoders/nmra/consistAddrDirection.xml"/>
        <xi:include href="http://jmri.org/xml/decoders/nmra/mfgVersionId.xml"/>
        <xi:include href="http://jmri.org/xml/decoders/nmra/userId.xml"/>
		<!-- Common variables for all Doehler und Haass decoders  -->
		<xi:include href="http://jmri.org/xml/decoders/doehler_haass/dh_vars.xml"/>
    </variables>
	<resets>
      <factReset label="Reset All CVs" CV="8" default="8"/>
    </resets>
  </decoder>
		<!-- Common pane(s) for all Doehler und Haass decoders  -->
	<xi:include href="http://jmri.org/xml/decoders/doehler_haass/dh_pane.xml"/>
</decoder-config>