<?xml version="1.0" encoding="ISO-8859-1"?>
<?xml-stylesheet type="text/xsl" href="../XSLT/decoder.xsl"?>
<!-- Copyright (C) JMRI 2006 All rights reserved -->
<!--                                                                        -->
<!-- JMRI is free software; you can redistribute it and/or modify it under  -->
<!-- the terms of version 2 of the GNU General Public License as published  -->
<!-- by the Free Software Foundation. See the "COPYING" file for a copy     -->
<!-- of this license.                                                       -->
<!--                                                                        -->
<!-- JMRI is distributed in the hope that it will be useful, but WITHOUT    -->
<!-- ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or  -->
<!-- FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License  -->
<!-- for more details.                                                      -->
<decoder-config xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" showEmptyPanes="no" xsi:noNamespaceSchemaLocation="http://jmri.org/xml/schema/decoder.xsd">
  <version version="1" author="PB, pierre.bln@me.com" lastUpdated="20130731"/>
  <!-- 1 2013/07/31 Creation 
		First decoder template for the Doehler & Haass decoder range.
		This is a GENERIC profile. It contains ALL known functions 
		known as of 2013-07-31 with firmware v3.02.053, in case one of 
		the specific profiles ended up being out of date.
		Source: http://doehler-haass.de/cms/pages/haeufige-fragen/decoder-cv-tabelle.php?wb_2027_session_id=s1ss0tavpgi78b2mfct58u4ij0
		It requires variables and panes as defined in the doehler_hass/ folder.
  -->
  <decoder>
    <family name="Generic DH (v3.02.053)" mfg="Doehler und Haass" comment="Generic DH profile with all functions as of fw v3.02.053, all may not apply to all models">
      <!-- PB: Note about functions: bits 6 & 7 control special light FX for all decoders.
	  They are considered as Out 7 and Out 8 so they must appear in the mapping table (cleaner UI)
	  All decoders are set to have 8 outputs. Filtering of absent Outputs is done
	  with the 'exclude' option on a per Output/decoder basis for Outputs 4,5,6
	  (the 'minOut' filter is therefore NOT used ).
       -->
      <model model="Generic DH (v3.02.053)" numOuts="8" numFns="14" productID="Generic">
        <output name="1" label="Front Light"/>
		<output name="2" label="Rear Light"/>
		<output name="3" label="AUX 1"/>
		<output name="4" label="AUX 2"/>
		<output name="5" label="AUX 3"/>
		<output name="6" label="AUX 4"/>
		<output name="7" label="Dimmed headlights"/>
		<output name="8" label="Shunting headlights"/>
		<protocols>
            <protocol>dcc</protocol>
            <protocol>selectrix</protocol>
        </protocols>
      </model>
    </family>
    <programming direct="yes" paged="yes" register="yes" ops="yes"/>
    <variables>
		<!-- Analog functions  -->
		<xi:include href="http://jmri.org/xml/decoders/nmra/cv29analog.xml"/>
		<xi:include href="http://jmri.org/xml/decoders/nmra/analogModeFunction.xml"/>
		<xi:include href="http://jmri.org/xml/decoders/doehler_haass/CV14_analogModeFunction.xml"/>
        <!-- Calls to std NMRA templates   -->
        <xi:include href="http://jmri.org/xml/decoders/nmra/shortAndLongAddress.xml"/>
        <xi:include href="http://jmri.org/xml/decoders/nmra/cv29speedSteps.xml"/>
        <xi:include href="http://jmri.org/xml/decoders/nmra/cv29direction.xml"/>
        <xi:include href="http://jmri.org/xml/decoders/nmra/consistAddrDirection.xml"/>
        <xi:include href="http://jmri.org/xml/decoders/nmra/mfgVersionId.xml"/>
        <xi:include href="http://jmri.org/xml/decoders/nmra/userId.xml"/>
		<!-- Common variables for all Doehler und Haass decoders  -->
		<xi:include href="http://jmri.org/xml/decoders/doehler_haass/dh_vars.xml"/>
    </variables>
	<resets>
      <factReset label="Reset All CVs" CV="8" default="8"/>
    </resets>
  </decoder>
		<!-- Common pane(s) for all Doehler und Haass decoders  -->
	<xi:include href="http://jmri.org/xml/decoders/doehler_haass/dh_pane.xml"/>
</decoder-config>