<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><!-- Translated by Blorec Hervé le 2012-01-23-->

<html lang="fr">
<head>
<!-- Copyright 2008 -->
<!-- $Id: index.shtml,v 1.14 2011/03/12 21:26:57 jacobsen Exp $ -->
<title>JMRI: Web Access</title>

<!-- Style -->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name = "viewport" content = "width = device-width" />
<link rel="stylesheet" type="text/css" href="/css/default.css" media="screen">
<link rel="stylesheet" type="text/css" href="/css/print.css" media="print">
<link rel="icon" href="/images/jmri.ico" TYPE="image/png">
<link rel="home" title="Home" href="/">
<!-- /Style -->
</head>

<body>
<!--#include virtual="/Header" -->

<!--#include virtual="Sidebar" -->
<div id="mainContent">

<h1> 
JMRI:  Accès  Web
</H1>

JMRI peuvent fournir un accès Internet à votre réseau miniature.

<p>
La méthode de base a été développée par Konrad Froetzheim et ses collègues
au début des années 1990 pour leur «Model Railroad Internet».
Un serveur web standard communique avec le navigateur de l'utilisateur web normal, acceptant
les requêtes HTTP de la manière habituelle.
Ces demandes sont remis à un petit "connecteur JMRI", qui les interprète
 et renvoie les informations à partir JMRI pour revenir au navigateur.

<p>
Par exemple, l'utilisateur peut avoir son navigateur qui demande le 
contenu actuel d'un panneau JMRI, qui est
retourné au navigateur comme une image à afficher.
Ou l'utilisateur peut cliquer sur l'image d'un panneau JMRI,
qui provoque le navigateur de demander un clic dans la même position sur un panneau JMRI.
JMRI agit sur ce clic,
et renvoie également  une image du panneau mis à jour.

id="Start"><a
<h2>Démarrage de l'Accès Web  </h2>

JMRI Web Access est inclus dans les téléchargements JMRI habituels.
Pour l'utiliser, vous avez juste à le démarrer.

<p>
Avant de tenter d'utiliser l'accès Internet,
s'il vous plaît assurez-vous que la configuration de base de votre application JMRI
travaille.
Vérifiez que vous pouvez communiquer correctement avec et faire fonctionner votre réseau.

<p>
<img align="right" height="117" src="images/Startup.jpg" width="312"/>
Pour commencer l'accès au Web à partir des menus, sélectionnez "Démarrer le Mini Serveur Web "
sous la rubrique «Debogage» du menu. Une petite fenêtre s'ouvre pour confirmer qu'
il a commencé, et vous montrer l'URL qu'il utilise.

<p>
Ensuite, vérifiez la connexion.

<p>
Si vous utilisez un navigateur web Bonjour/Zeroconf-permis, comme
Safari ou
<a href="http://www.bonjourfoxy.net/"> Firefox </a>,
vous devriez voir un "JMRI sur (nom de votre ordinateur)"»
le site web dans l'onglet "Bonjour". Vous pouvez simplement cliquer sur celui-ci
pour se rendre à la page d'accueil du serveur Web JMRI.

<p>
Sinon, entrez l'URL à partir du message "le serveur Web a commencé ..."
, qui sera quelque chose comme "http://10.0.1.7:12080/index.html"
(Ou si vous naviguez sur le même ordinateur en ce moment,
href="http://localhost:12080/index.html"><a cliquez ici </a>, ou appuyez sur le bouton
"Ouvrir dans le navigateur" ).
Le port par défaut est 12080, mais cela peut être changé en
Préférences MiniServer.
Vous devriez voir un écran de bienvenue.

<p>
Ensuite, faisons en sorte que vous pouvez accéder aux fonctions JMRI.
Dans le menu Outils, sélectionnez JMRI "Contrôle  Alimentation", qui devrait ouvrir une nouvelle fenêtre.
Puis cliquez sur
<a href="http://localhost:12080/panel/Power%20Control.html"> ce lien </a>
ou entrez l'URL
<code><pre>
20Control.html% http://localhost:12080/panel/Power
</Pre></code>
Cela devrait afficher la fenêtre de ContrôleAlimentation de votre navigateur Web.
(Remarque: "localhost" est un alias pour votre 
ordinateur, si vous souhaitez accéder à l'ordinateur exécutant JMRI depuis un autre ordinateur,
remplacer "localhost"
avec l'adresse IP affichée sur l'écran principal, par exemple,
<code><pre>
20Control.html% http://127.0.0.1:12080/panel/Power
</Pre></code>
ou quelque chose de similaire)
Si tout fonctionne, vous devriez voir la fenêtre Contrôle Alimentation sur votre écran navigateur.
Cliquez sur le bouton "On" pour alimenter le réseau suite.

id="Configure"><a
<h2> Configuration </h2>

Vous pouvez utiliser
"<a Href="../../package/apps/TabbedPreferences.shtml"> Préférences </a>"
pour dire à JMRI de
démarrer le serveur à chaque fois que vous démarrez le programme.
<p>
Pour ce faire, ouvrez la fenêtre Préférences, sélectionnez le
"Démarrage", puis
cliquez sur "Ajouter action". Dans la boîte de nouvelles sélections 
apparaîssent, sélectionnez "Démarrer Miniserver Web».
N'oubliez pas de sauvegarder vos changements!


Le port par défaut MiniServer est 12080, mais cela peut être modifié à l'aide de
la boîte de dialogue Préférences MiniServer.

<p>
La page "index.html" que vous avez utilisé dans le
section précédente
est créé automatiquement par le programme dans les 
 préférences du répertoire JMRI. Vous pouvez l'éditer pour
l'affichage que vous voulez, par défaut, JMRI ne modifiera pas si elle existe.
Vous pouvez inclure des liens vers des pages web hors JMRI, et
des liens vers différentes pages JMRI servies, voir ci-dessous.
D'autre part, nous améliorions régulièrement la page, vous pouvez activer "Reconstruire index.html?" dans les Préférences
pour laisser JMRI le remplacer par la nouvelle version.

id="URLs"><a
<h2> Accès aux URLs</h2>
Vous pouvez créer vos propres pages Web en utilisant n'importe quel outil que vous  souhaitez.
Pour accéder à JMRI depuis ces pages, vous avez 
besoin de connaître les URL correctes pour demander les services que vous souhaitez.
Plusieurs exemples sont disponibles dans le répertoire "web" de la distribution.

<h3> Pour afficher une liste formatée JMRI </h3>

Pour obtenir une vue joliment formaté de votre liste JMRI simplement aller à:
<code><pre>
<a href="http://localhost:12080/prefs/roster.xml"> http://localhost:12080/prefs/roster.xml </a>
</Pre></code>
Notez que ceci est votre fichier roster.xml qui s'affiche uniquement en utilisant une transformation XSLT.

<h3> Pour arriver à l'application régulateur web </h3>

Pour utiliser l'application régulateur Web, vous pouvez aller à:
<code><pre>
<a href="http://localhost:12080/prefs/roster.html"> http://localhost:12080/prefs/roster.html </a>
</Pre></code>
il affichera une liste de locomotive cliquable générée  en utilisant votre liste JMRI, chaque clic sur une locomotive va générer et d'ouvrir un régulateur web InControl dans une nouvelle fenêtre du navigateur.

Ou utilisez le inControl.html directement en utilisant ses paramètres pour le configurer. (Voir page mini serveur web de départ pour info)

<h3> Pour Afficher une Fenêtre Cliquable JMRI </h3>
Pour afficher toute fenêtre JMRI <i> ouverte </i>  comme une image cliquable
 qui se rafraîchit périodiquement, utiliser une URL comme:
<code><pre>
<A href="http://localhost:12080/panel/Power%20Control.html">http://localhost:12080/panel/Power%20Control.html</a>
</Pre></code>
où la dernière partie de l'URL est le nom
de la fenêtre désirée. Notez que vous devez
remplacer les espaces par "% 20" pour rendre le nom d'une
URL valide, et que le nom se termine par ". html".
<p>
Par défaut, ceci rafraîchit l'image toutes les 5 secondes, et actualise également une
secondes après que vous cliquiez dessus. Vous pouvez changer l'intervalle d'actualisation dans les Préférences MiniServer
ou par l'ajout d'un modificateur à la fin de l'URL:
<code><pre>
<A href="http://localhost:12080/panel/Power%20Control.html?retry=12.3">http://localhost:12080/panel/Power%20Control.html?retry=12.3</a>
</Pre></code>

<h3> Pour Afficher une Fenêtre JMRI comme une Image </h3>

Pour afficher le contenu de toute fenêtre JMRI <i>ouverte</i>  comme une image, utilisez
une URL comme:
<code><pre>
<A href="http://localhost:12080/panel/Power%20Control.png">http://localhost:12080/panel/Power%20Control.png</a>
</Pre></code>
où le "nom de fichier" partie de l'URL est le nom
de la fenêtre désirée. Notez que vous devez
remplacer les espaces par "% 20" pour rendre le nom d'une
URL valide. Vous pouvez également intégrer cette URL dans une balise IMG.

<h3> Pour afficher un Fichier Local </h3> href="http://localhost:12080/panel/Power%20Control.png">http://localhost:12080/panel/Power%20Control.png</a>
Un fichier HTML local (page web), fichier graphique ou texte peut être
affiché en utilisant l'URL appropriée.
<p>
Les fichiers dans les préférences de votre répertoire JMRI peut être
accessible via une URL qui commence par "prefs":
<code><pre>
<a href="http://localhost:12080/prefs/index.html"> http://localhost:12080/prefs/index.html </a>
</Pre></code>
(Le fichier index.html est dans votre répertoire de préférences)
<p>
Les fichiers dan certains répertoires dans le répertoire du programme JMRI peuvent être
accessibles via une URL qui commence par "dist":
<code><pre>
<A href="http://localhost:12080/dist/help/en/webindex.shtml">http://localhost:12080/dist/help/en/webindex.shtml</a>
</Pre></code>
fera référence à l'index du système d'aide, tandis que
<code><pre>
<A  href="http://localhost:12080/dist/resources/logo.gif">http://localhost:12080/dist/resources/logo.gif</a>
</Pre></code>
va charger un logo JMRI graphique à partir du répertoire des ressources.
"Dist/web" et "dist/xml" fonctionnent également comme des préfixes.

<h3> Affichage des fichiers Panneaux formatés </h3>

Les "fichiers de panneau" qui utilise JMRI pour stocker la configuration
et afficher des informations peuvent être affichés dans un format pratique
 par un navigateur web.
Le serveur web JMRI fonctionne avec votre navigateur pour
faire le formatage.
Vous pouvez alors visualiser, imprimer, enregistrer, etc le fichier formaté.
Par exemple, pour afficher "MyFile.xml" à partir du répertoire JMRI préférences, utilisez
<code><pre>
<a href="http://localhost:12080/prefs/MyFile.xml"> http://localhost:12080/prefs/MyFile.xml </a>
</Pre></code>

<h3> XML et accès Ajax </h3>

JMRI fournit XML et Ajax accès via un
<a href="http://jmri.org/JavaDoc/doc/jmri/web/servlet/xmlio/package-summary.html"> XML IO servlet personnalisés</a>.

<p>
Il ya trois pages d'exemples qui montrent comment cela peut être utilisé:
<dl>
<dt><a href="http://localhost:12080/web/request.html"> web/request.html </a>
<dd> Rend une seule requête XML pour tous les capteurs disponibles, et montre leur statut dans un tableau.
<dt><a href="http://localhost:12080/web/monitor.html"> web/monitor.html </a>
<dd> utilise les requêtes retardées pour surveiller l'état de tous les capteurs,
la mise à jour d'une table lors de tout changement.
<dt><a href="http://localhost:12080/web/throttle.html"> web/throttle.html </a>
<dd> Envoie une commande de vitesse pour une locomotive DCC sur la réseau quand une touche est enfoncée.
</Dl>

<p>
Par défaut, ceci est configuré pour gérer les URLs qui commencent par "/xmlio".
Les Informations sur l'utilisation et la personnalisation peuvent être trouvées sur une
<a Page href="XMLIO.shtml"> séparés </a>..
</div>
<!--#include virtual="/Footer" -->
</body>
</html>
