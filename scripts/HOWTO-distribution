Making a distribution (substitute the release-name for 0.N throughout):

( ) Copy and rename the last distribution

( ) update the README in cvs to include any changes, esp. including updating
	the release name and URLs. 

( ) Commit all cvs source and tag "Release-0-N"

( ) Make sure that the "make manifest" button is pushed, then
	make the jmri.jar file with the JMRI demo release target.

( ) Make sure that the following .jar files (and only these) have the
	merge button pushed, then
	make the jmriwin95.jar file with the JMRI demo release target.
		collections.jar
		log4j.jar
		xerces.jar
		comm.jar
		jdom-???.jar

( ) Move the jmri.jar and jmriwin75.jar files to the distribution folder

( ) Update the various text files from the CVS scripts module. Change the
	creator code of README to ttxt (SimpleText)

( ) Update the xml subdirectory, removing the CVS subdirs

( ) Make sure there's a clean "prefs" directory.

( ) Any new jar files that need to be put in the lib area? If so, the app
	will have to change (next step).  Move them into the distribution lib
	area now.

( ) This step is only needed if you've changed any of the properties, classpath, etc.
    Under MacOS 9, start MRJAppBuilder.
		Properties:  Release properties
		Output file:  JMRI demo (in your target location; overwrite existing)
		Merge files:  (none)
    And then make the output app.  Copy that application file to the 
    release (if you didn't create it there) and update its icon.
    
    A similar thing might be needed under MacOS X; consult the work log
    for the exact setup needed. 
	   
( ) Make an opt-copy of the folder to the desktop, then into a CD.

( ) Test CD on the test machine!

( ) Test copied folder under Windows

( ) Create the Macintosh distribution
	( ) Create a clean copy of the folder on the desktop, with the same name
	
	( ) Remove the win32com.dll, JmriWin95.jar files

	( ) Drag folder onto DropStuff, which will create a file JMRI.demo.0.N.hqx
		(Preferences should be set for Macintosh, include linefeeds, remote .sit
		suffix)

	( ) Upload Mac distribution to sourceforge home via SSH

( ) Upload distribution folder to jmri.sourceforge.net via NiftyTelnet/SSH

( ) Make the OS/2 distribution:

	( ) Start with a new copy of the distribution directory
	
	( ) Remove the Macintosh Apps and Mac-only jar files:

    	cd JMRI.demo.0.N
    	rm JMRI\ demo
    	rm -rf JMRI\ MacOSX.app
   		rm lib/javax.comm.MRJ.jar
 		rm lib/swingall.jar
	
	( ) Remove the Windows-specific files

    	rm JmriWin95.jar
 
   	At this point, lib should contain only:
     	collections.jar  jdom-jdk11.jar  log4j.jar  xerces.jar
   
	( ) Make a zip file

    	cd ..
    	# now above the distribution directory
    
    	zip -rl JMRI.demo.0.N.OS2.zip JMRI.demo.0.N
		zip JMRI.demo.0.N.OS2.zip JMRI.demo.0.N/jmri.jar JMRI.demo.0.N/lib/*.jar
	
		# the first line adds CR's, and the second replaces the .jar files so they
		# don't have CR inserted
	
( ) Make the Linux distribution from the OS/2 distribution directory above:

	( ) Update permissions

    	chmod 755 JmriDemo.csh
    
	( ) Make a .tar.gz

		tar cf JMRI.demo.0.N.tar JMRI.demo.0.N
		gzip JMRI.demo.0.N.tar
	
( ) Make the Windows distribution

	( ) Start with a new copy of the uploaded folder
	
	( ) Remove the Macintosh Apps and un-merged jar files:

    	cd JMRI.demo.0.N
    	rm JMRI\ demo
    	rm -rf JMRI\ MacOSX.app
   		rm -rf lib
 		rm jmri.jar
 			
		At this point, only the jmriwin95.jar file should exist
		   
	( ) Make a zip file

    	cd ..
    	# now above the distribution directory
    
    	zip -rl JMRI.demo.0.N.win.zip JMRI.demo.0.N
		zip JMRI.demo.0.N.win.zip JMRI.demo.0.N/JmriWin95.jar
	
		# the first line adds CR's, and the second replaces the .jar file so it
		# don't have CR inserted

( ) Move to distribution site via SourceForge release:

	ftp upload.sourceforge.net 
		user: ftp 
		password: me@myself.org 
		cd incoming 
		bin 
		put JMRI.demo.0.N.OS2.zip
		put JMRI.demo.0.N.win.zip
		put JMRI.demo.0.N.tar.gz
		put JMRI.demo.0.N.hqx
		
	Login to SourceForge web 
	Go to the project home page, then admin page
	Click on Edit/Release Files  & release each of the four files
	in the order:
	
		OS/2
		linux
		windows
		macintosh
		
	Be sure to update the top of the release note paragraph.
	
	The release name convention is "JMRI 0.N demo for XXX"
	
	Be sure to select "preserve preformatted text"

( ) Update web page source:
	site/index.html - download links, demo release name
	site/InstallJMRI.html - download instructions
	site/demoFiles/README.html - new README contents
	
( ) commit site and update on server
	
( ) Update CVS copy

    cd cvs
    cvs -d cvs.jmri.sourceforge.net:/cvsroot/jmri update -r Release-0-N
    
( ) Create a snapshot in zip format

	cd
	zip -rl snapshot-release-0-N.zip cvs
	mv snapshot-release-0-N.zip htdocs/Technical/snapshots/
	
( ) Create JavaDoc
	Ensure that CW JMRI debug target has JavaDoc selected as prelinker
	Build JMRI debug target

( ) Upload JavaDoc

	Upload the Development Project:Docs folder to htdocs/Technical/

( ) Wait for the files to appear in the upload area

( ) News item from JMRI sourceforge page

	Title is of the form "JMRI Demo 0.N is available"

( ) mail announcement to jmri-announce@lists.sourceforge.net

( ) Decide if worth announcing elsewhere:
		MAC_DCC@yahoogroups.com
		loconet_hackers@yahoogroups.com
		digitrax@yahoogroups.com
		
( ) Take a break!

