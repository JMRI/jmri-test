This is the HOWTO file to make a complete SourceForge downloadable
distribution.  ($Revision: 1.22 $)

Start with a directory, typically called "Distributions", that
contains:

  scripts
  ln -s scripts/build.xml build.xml

  Linux
  	JMRI (the most recent distribution)
  MacClassic
  	JMRI (the most recent distribution)
  MacOSX
  	JMRI (the most recent distribution)
  OS2
  	JMRI (the most recent distribution)

  (Windows is separate, and involves a shared disk with VPC, but
   basically all the necessary stuff is in a VPC directory)
   
This probably already exists....

( ) Go to your working directory and
	cvs tag Release-1-2-3 src test manifest default.lcf jmri.jpx build.xml 
	cd ..
	cvs tag Release-1-2-3 xml resources lib 
	
	(be sure that's the default.lcf you want!)

( ) Come back to Distributions and 
    cd scripts
    cvs update
    cd ..
    
	ant -Drelease=Release-1-2-3 -Dnumber=1.2.3 release1
	
	Ensure tests pass!
	
	Check DecoderPro for no startup errors, right version

	Ant will launch three StuffIt processes; click
	each to proceed, and wait for them to be running.
	
( ) Once they launch, you can start building the Windows installer.
	Launch Installer Vise from the last build file.
	"Update archive"; Check changes make sense.
	Create and test.
	"Save as..." the new name
	Copy to Mac, copy to final Distributions; name should be OK

( ) Once the three StuffIt processes are done
	ant -Drelease=Release-1-2-3 -Dnumber=1.2.3 release2
	
	This will launch one more StuffIt process (for MacClassic)
	Wait for it to complete.
	
( ) Once the 4th StuffIt process is done, start uploading via
	ant -Drelease=Release-1-2-3 -Dnumber=1.2.3 release3

	The Windows .exe must be present before the next step
	
( ) When ready to upload the Windows version:
	ant -Drelease=Release-1-2-3 -Dnumber=1.2.3 release4
	
	This also creates and uploads the JavaDocs
		
( ) Format the email announcement; you'll cut and paste parts
	to the release form.

( ) Login to SourceForge web 
	Go to the project home page, then admin page
	Click on Edit/Release Files  & release each of the three files
	in the order:
	
		OS/2
		Macintosh classic
		Linux
		MacOS X
		Windows
		
	Be sure to update the top of the release note paragraph.
	
	The test release name convention is "Test version 1.2.3 for Linux"
	
	Be sure to select "preserve preformatted text"

( ) mail announcement to jmriusers@yahoogroups.com

( ) For a production version, update web page source:
    	Linux install.html         
    	MacOS Classic install.html 
    	MacOS X install.html       
    	OS2 install.html          
    	Windows install.html
		index.html
		DecoderPro/index.html
		README.html
		
( ) commit site and update on server
	
( ) News item from JMRI sourceforge page

	Title is of the form "JMRI M.N is available"

( ) mail announcement to jmri-announce@lists.sourceforge.net

( ) Decide if worth announcing elsewhere:
		MAC_DCC@yahoogroups.com
		loconet_hackers@yahoogroups.com
		digitrax@yahoogroups.com
		2 NCE groups
		
( ) Take a break!

