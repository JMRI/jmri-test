<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $Id: KeyspanUSB.shtml,v 1.1 2008/01/13 04:24:44 jacobsen Exp $ -->
<!-- Translated  by Blorec Hervé le 2011-06-15-->
<html lang="fr">
<head>
 <TITLE>
 JMRI: Keyspan USB connections
 
 </TITLE>
    <META http-equiv=Content-Type content="texGuide d'Installationt/html; charset=utf-8">
    <META content="Bob Jacobsen" name=Author>
    <META content="John Plocher" name=Author>
    <META name="keywords" content="Keyspan USB java model railroad JMRI install">

<!-- Style -->
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="/css/default.css"
	MEDIA="screen">
<LINK REL="stylesheet" TYPE="text/css" HREF="/css/print.css"
	MEDIA="print">
<LINK REL="icon" HREF="/images/jmri.ico" TYPE="image/png">
<LINK REL="home" TITLE="Home" HREF="/">
<!-- /Style -->
</HEAD>

<BODY>
<!--#include virtual="/Header" -->

  <div class="nomenu" id="mBody">
    <div id="mainContent">
      <H2> 
      JMRI Guide d'Installation: Keyspan connexions USB
      </H2>

      <p>Cette page décrit les tests des deux d'adaptateurs USB  ports série avec       
       l'interface MS100 LocoNet Digitrax.
 
       <p> MS100 est un système de décalage de niveau passif qui tire sa puissance du
       contrôle conduit dans l'interface RS232. Digitrax n'a pas publié de
       schéma, mais Bill Robinson, de l'équipe Digital a gracieusement fourni une
       schéma de leur décalage de niveau qui est pensé pour être très similaire.</p>

      <p><img src="./images/LN_to_PC.gif"></p>

    <H2>Résumé</H2>

	<dl>
        <dt class=left>Keyspan PDA adapteur P/N USA-19</dt>
	<dt class=left>Résumé: Cela a fonctionné.</dt>
	<dd>
	<p> Malheureusement, cet adaptateur n'est plus fabriqué. Je crois que le
remplacement par »Keyspan High Speed Serial Adapter" Partie # USA-19QW est la
même chose.</p>

	<p>Nous avons eu un rapport que cet adaptateur PDA ne peut pas travailler avec un
LocoBuffer à 57600 bauds. Il semble y avoir plusieurs versions de l'
Adaptateur, avec des numéros de modèle légèrement différent, et il se pourrait que
certains d'entre eux travaillent à 56.000 bauds. </p>
</dd>

<dt class=left> Keyspan Dual Serial Adapter N / P USA-28X </dt>
<dt class=left> Résumé:. Cela n'a pas fonctionné.</dt>
	<dd>
	Problèmes: l'adaptateur USB fournit une seule sortie ligne de contrôle, et
les sorties du port série ont seulement + / - 5V. Ce ne fut pas suffisante pour alimenter
le MS100 pendant la réception.
	</dd>
	</dl>

    <H2>Détails</H2>

	<dl>
        <dt class=left>Keyspan PDA adapter P/N USA-19</dt>
	<dt class=left>Résumé: Ceci à fonctionné.</dt>
	<dd>
	<p> Ce fut effectivement la seconde série d'adaptateur USB que j'ai essayée, après le
Keyspan Adaptateur série  double (voir ci-dessous). Cet adaptateur fournit un connecteur DB9
mâle, brochage disponible à partir du
<a HREF="http://www.keyspan.com/products/USB/PDAadapter/docs/mac/html/homepage29.html"> 
 support produit Page Keyspan  </a>. Notez qu'il y a deux sorties, RTS et DTR
, qui peuvent être commandées séparément pour fournir le  + et le  - de tension
pour le MS100. </p>

<p> j'ai relié une DB9 femelle par un câble adaptateur à une DB25 mâle qu'il
m'est arrivé d'avoir, et le programme d'essais a été immédiatement en mesure de
communiquer avec le LocoNet. </p>
 
	<h3>Connexions DB9 femmelle à DB25 male </h3>

<pre>
       DB9 pin      DB25 pin
       -------      --------

DCD      1             8
RxD      2             3
TxD      3             2
DTR      4            20
Masse    5             7
DSR      6             6
RTS      7             4
CTS      8             5
RI       9            22

</pre>

	<p> Notez que je n'ai pas tester le niveau d'entrée du MS100 (DSR, CTS).

</ p>
</ dd>

<dt class=left> Keyspan Dual Serial Adapter N / P USA-28X </dt>
<dt class=left> Résumé:. Cela n'a pas fonctionné </dt>
<dd>
<p>
Le problème initial était que l'adaptateur USB fournit une seule commande
Sortie de ligne (voir sur le brochage
<a HREF="http://www.keyspan.com/products/USB/usa28x/docs/swp/aPinOuts.html"> 
Page support produit Keyspan support produit </a>.
Cela signifie que le port série ne peut fournir l'un des deux + et -
niveaux nécessaires pour le MS100. Comme il ya deux ports, j'ai construis un
petit adaptateur pour utiliser la ligne de commande du second port pour fournir
l'autre niveau. </p>
	<p>
	<a HREF="./images/KeyspanJumper.jpg"><img SRC="./images/KeyspanJumper-thumb.jpg" BORDER="2" WIDTH="100" HEIGHT="75">(cliquez pour agrandir)</a></p>


	<p> Le deuxième problème était que les sorties du port série ont seulement + / -
5V. Ce n'était pas suffisant pour alimenter le MS100 pendant la réception.

<p> L'image suivante montre les niveau des données à transmettre depuis l'adaptateur
Keyspan. Les Niveaux DC avaient une gamme similaire. Ce fut un grand
élan pour piloter le LocoNet lui-même, mais pas au point de recevoir le
décalage de niveau dans le MS100.

<p><a HREF="./images/KeyspanTxD.jpg"> <img SRC="./images/KeyspanTxD-thumb.jpg" border="2" width="100" HEIGHT="75">
(cliquez pour agrandir) </a> </p>

<p>Fournir une tension auxiliaire + / - 9V au MS100, sans utiliser le
lignes de sortie comme une source d'alimentation, ne fut pas suffisant. Ce qui suit
est l'image des données reçues, nominalement un signal RS232 d'au moins
+ / -6 Volts, à partir du MS100. Le signal de données reçu a été de 
6V, marginalement OK, mais il n'allait pas à la masse. L'adaptateur série USB
 n'a pas rapporté tous les caractères reçus au Macintosh
Notez que je n'ai pas tester le niveau d'entrée du MS100 (DSR, CTS).

		
	<p><a HREF="./images/KeyspanRxD.jpg"><img SRC="./images/KeyspanRxD-thumb.jpg" BORDER="2" WIDTH="100" HEIGHT="75">
(cliquez pour agrandir)</a></p>
	<p>  Traffic from command station, throttle and
	various auxiliary components (PM4, DS54) was available for testing
	<h3>Matériel & Logiciel utilisés</h3>

	<p>Les tests ont été effectués avec un PowerBook G4 400MHz, Mac OS 9.1. Le
programme de test est une application Java créée avec CodeWarrior 4.1.0.3
construire 661. Ce programme est disponible sur demande, voir ci-dessous pour
l'adresse. L'accès Java à des adaptateurs USB série a été fait  par la mise en  œuvre de  javax.comm par l'intermédiaire du Macintosh de Patrick
Beard.

<p> Le système Digitrax était un Chief, régulateur DT100IR, et divers
décodeurs sur le réseau. Le Trafic de la centrale de commande, du régulateur et des
divers composants auxiliaires (PM4, DS54) était disponible pour les tests.
.

	</dd>
	</dl>

<!--#include virtual="/Footer" -->
</body>
</html>
