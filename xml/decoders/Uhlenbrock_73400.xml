<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="../XSLT/decoder.xsl"?>
<!DOCTYPE decoder-config SYSTEM "../DTD/decoder-config.dtd" []>
<!-- Copyright (C) JMRI 2006 All rights reserved-->
<!-- $ $-->
<!-- -->
<!-- JMRI is free software; you can redistribute it and/or modify it under-->
<!-- the terms of version 2 of the GNU General Public License as published-->
<!-- by the Free Software Foundation. See the "COPYING" file for a copy-->
<!-- of this license.-->
<!-- -->
<!-- JMRI is distributed in the hope that it will be useful, but WITHOUT-->
<!-- ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or-->
<!-- FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License-->
<!-- for more details.-->
<decoder-config>
	<version author="Xavier Chazelle" version="1.1" lastUpdated="2009/01/06"/>
	<decoder>
		<family name="MicroMultiprotocol Decoder" mfg="Uhlenbrock Elektronik">
			<model model="73400" highVersionID="2" numOuts="2" maxMotorCurrent="0.6A" formFactor="N" comment="wired version">
				<output name="1" label="F0F" connection="wire" maxcurrent="0.2A"/>
				<output name="2" label="F0R" connection="wire" maxcurrent="0.2A"/>
				<size length="10.8 " width="7.5 " height="2.4 " units="mm"/>
			</model>
			<model model="73410" highVersionID="2" numOuts="2" maxMotorCurrent="0.6A" formFactor="N" comment="NEM651 version" connector="NMRAsmall">
				<output name="1" label="F0F" connection="plug" maxcurrent="0.2A"/>
				<output name="2" label="F0R" connection="plug" maxcurrent="0.2A"/>
				<size length="10.8 " width="7.5 " height="2.4 " units="mm"/>
			</model>
		</family>
		<programming direct="yes" paged="yes" register="yes" ops="yes"/>
		<variables>
			<variable label="Primary Address" CV="1" comment="Short address" item="Short Address" default="03">
				<shortAddressVal/>
			</variable>
			<variable label="Vstart" CV="2" comment="Speed setting between 1 and 63" default="01">
				<decVal max="63"/>
			</variable>
			<variable label="Acceleration Rate" CV="3" comment="A value of 1 will increase each 5 milliseconds by 1" item="Accel" default="02">
				<decVal max="63"/>
			</variable>
			<variable label="Deceleration Rate" CV="4" comment="A value of 1 will increase each 5 milliseconds by 1" item="Decel" default="02">
				<decVal max="63"/>
			</variable>
			<variable label="Vhigh" CV="5" comment="Speed setting between 1 and 63" default="48">
				<decVal max="63"/>
			</variable>
			<variable label="Vmid" CV="6" comment="Speed setting between 1 and 63" default="24">
				<decVal max="63"/>
			</variable>
			<variable label="Manufacturer Version No: " CV="7" item="Decoder Version" default="8" readOnly="yes">
				<decVal/>
			</variable>
			<variable label="Manufacturer ID: " CV="8" item="Manufacturer" default="85" readOnly="yes">
				<decVal/>
			</variable>
			<variable label="Extended Address" CV="17" comment="4 digit address (Range 128-10240)" item="Long Address">
				<longAddressVal/>
			</variable>
			<variable label="Consist Address" CV="19" comment="0-127 0= no consist" item="Consist Address" default="0" mask="XVVVVVVV">
				<decVal/>
			</variable>
			<variable label="Consist Direction" CV="19" mask="VXXXXXXX">
				<enumVal>
					<enumChoice choice="Normal"/>
					<enumChoice choice="Reversed"/>
				</enumVal>
			</variable>
			<variable label="Locomotive Direction" CV="29" default="0" mask="XXXXXXXV">
				<enumVal>
					<enumChoice choice="normal"/>
					<enumChoice choice="reversed"/>
				</enumVal>
			</variable>
			<variable label="FL Location" CV="29" item="Speed Step Mode" default="1" mask="XXXXXXVX">
				<enumVal>
					<enumChoice choice="14 speed step format"/>
					<enumChoice choice="28 speed step format"/>
				</enumVal>
			</variable>
			<variable label="Analog (DC) Operation" CV="29" default="0" mask="XXXXXVXX">
				<enumVal>
					<enumChoice choice="digital only"/>
					<enumChoice choice="digital or analog"/>
				</enumVal>
			</variable>
			<variable label="Speed Table Definition" CV="29" mask="XXXVXXXX">
				<enumVal>
					<enumChoice choice="Use Vstart, Vmid, Vhigh"/>
					<enumChoice choice="Use table in CVs 67 through 94"/>
				</enumVal>
			</variable>
			<variable label="Address Format" CV="29" mask="XXVXXXXX">
				<enumVal>
					<enumChoice choice="One byte (short) address"/>
					<enumChoice choice="Two byte (extended) address"/>
				</enumVal>
			</variable>
			<variable label="Main Motor Control - load regulation" CV="49" default="0" mask="XXXXXXXV">
				<enumVal>
					<enumChoice choice="on"/>
					<enumChoice choice="off"/>
				</enumVal>
			</variable>
			<variable label="Sound module" CV="49" default="0" mask="XXXXXXVX">
				<enumVal>
					<enumChoice choice="no"/>
					<enumChoice choice="yes"/>
				</enumVal>
			</variable>
			<variable label="LISSY module" CV="49" default="0" mask="XXXXXVXX">
				<enumVal>
					<enumChoice choice="no"/>
					<enumChoice choice="yes"/>
				</enumVal>
			</variable>
			<variable label="Digital format" CV="49" comment="DCC and Motorala or DCC or Motorala" default="0" mask="XXXVVXXX">
				<enumVal>
					<enumChoice choice="DCC and Motorala"/>
					<enumChoice choice="DCC only"/>
					<enumChoice choice="Motorala only"/>
				</enumVal>
			</variable>
			<variable label="Lights output swap" CV="49" default="0" mask="XVXXXXXX">
				<enumVal>
					<enumChoice choice="straight"/>
					<enumChoice choice="reverse"/>
				</enumVal>
			</variable>
			<variable label="Braking condition" CV="49" default="0" mask="VXXXXXXX">
				<enumVal>
					<enumChoice choice="Braking signal only"/>
					<enumChoice choice="with analog voltage"/>
				</enumVal>
			</variable>
			<variable label="Lights output dimming" CV="50" tooltip="min=0, max=31" default="16">
				<decVal max="31" min="0"/>
			</variable>
			<variable label="Repetition rate" CV="53" tooltip="Lower if the locomotive does not run smoothly" default="40">
				<decVal/>
			</variable>
			<variable label="Fixed or variable repetition rate" CV="54" tooltip="128 fixed or 132 speed dependant" default="0" mask="XXXXXVXX">
				<enumVal>
					<enumChoice choice="fixed repetition rate">
						<enumChoice value="128"/>
					</enumChoice>
					<enumChoice choice="speed dependent repetition rate (default)">
						<enumChoice value="132"/>
					</enumChoice>
				</enumVal>
			</variable>
			<variable label="AD Timeslot" CV="58" default="8" tooltip="Increase if loc does not run smoothly at low speeds - Decrease if the top speed is too low after CV53 has been lowered">
				<decVal/>
			</variable>
			<variable label="Short circuit supervision" CV="60" default="15" readOnly="yes" tooltip="Do not change! 0=deactivated - 15=activated">
				<decVal/>
			</variable>
			<variable label="Offset Register" CV="65" default="0" readOnly="yes" tooltip="For CV programming with a Motorola digital controller">
				<decVal/>
			</variable>
			<variable label="Page Register" CV="66" default="0" readOnly="yes" tooltip="used in DCC page mode">
				<decVal/>
			</variable>
			<variable label="Speed Table" CV="67">
				<speedTableVal/>
			</variable>
			<variable label="Error register" CV="100" default="0" readOnly="yes" mask="XXXXXXVV" tooltip="0 = No error (reset error register)">
				<enumVal>
					<enumChoice choice="No error">
						<enumChoice value="0"/>
					</enumChoice>
					<enumChoice choice="Motor short circuit">
						<enumChoice value="1"/>
					</enumChoice>
					<enumChoice choice="Light short circuit">
						<enumChoice value="2"/>
					</enumChoice>
				</enumVal>
			</variable>
		</variables>
		<resets>
			<factReset label="Reset All CVs" CV="59" default="1"/>
		</resets>
	</decoder>
	<pane name="Uhlenbrock">
		<column>
			<label label="CV49 - decoder configuration"/>
			<display item="Sound module"/>
			<display item="LISSY module"/>
			<display item="Digital format"/>
			<display item="Braking condition"/>
			<separator/>
			<label label="Lights: "/>
			<display item="Lights output swap"/>
			<display item="Lights output dimming"/>
		</column>
		<column>
			<display item="Main Motor Control - load regulation"/>
			<label label="CV53 54 58 - Regulation, Back-EMF parameters"/>
			<display item="Repetition rate"/>
			<display item="Fixed or variable repetition rate"/>
			<display item="AD Timeslot"/>
			<separator/>
			<label label="These CV's are Read-Only: "/>
			<display item="Short circuit supervision"/>
			<display item="Error register"/>
			<display item="Offset Register"/>
			<display item="Page Register"/>
		</column>
	</pane>
</decoder-config>

 	  	 
